{"version":3,"file":"js/885.ca205620.js","mappings":"+MAqFOA,MAAM,e,GACTC,EAAAA,EAAAA,GAAyE,MAArED,MAAM,yCAAwC,sBAAkB,G,GAC/DA,MAAM,sB,SAC4BA,MAAM,6D,GACzCC,EAAAA,EAAAA,GAAqB,YAAf,YAAQ,G,SAGqBD,MAAM,6D,GACzCC,EAAAA,EAAAA,GAAkB,YAAZ,SAAK,G,SAGwBD,MAAM,6D,GACzCC,EAAAA,EAAAA,GAAgC,YAA1B,uBAAmB,G,SAGYD,MAAM,6D,GAC3CC,EAAAA,EAAAA,GAA6B,YAAvB,oBAAgB,G,SAGUD,MAAM,6D,GACtCC,EAAAA,EAAAA,GAAuB,YAAjB,cAAU,G,SAGgBD,MAAM,6D,GACtCC,EAAAA,EAAAA,GAAyB,YAAnB,gBAAY,G,GAIjBD,MAAM,uB,GACGA,MAAM,yD,GACkCC,EAAAA,EAAAA,GAAI,mB,SAE3CD,MAAM,uC,GAIdA,MAAM,wB,gGAxCfE,EAAAA,EAAAA,IAGiBC,EAAA,CAHMC,QAASC,EAAAC,e,kCAAAD,EAAAC,eAAcC,GACvB,kBAAiBF,EAAAG,W,yCAAAH,EAAAG,WAAUD,GAClCE,SAAMC,EAAA,KAAAA,EAAA,GAAAH,GAAEF,EAAAM,mB,uCAExBV,EAAAA,EAAAA,GA4CM,MA5CNW,EA4CM,CA3CJC,GACAZ,EAAAA,EAAAA,GAyBM,MAzBNa,EAyBM,CAxBOT,EAAAU,OAAOC,oBAAiB,WAAnCC,EAAAA,EAAAA,IAGM,MAHNC,EAGM,CAFJC,GAAqB,aACrBC,EAAAA,EAAAA,IAAGf,EAAAgB,WAAWC,eAAe,aAAejB,EAAAgB,WAAWE,UAAY,cAAH,sBAEvDlB,EAAAU,OAAOC,oBAAiB,WAAnCC,EAAAA,EAAAA,IAGM,MAHNO,EAGM,CAFJC,GAAkB,aAClBL,EAAAA,EAAAA,IAAGf,EAAAgB,WAAWC,eAAe,SAAWjB,EAAAgB,WAAWK,MAAQ,cAAH,sBAE/CrB,EAAAU,OAAOY,oBAAiB,WAAnCV,EAAAA,EAAAA,IAGM,MAHNW,EAGM,CAFJC,GAAgC,aAChCT,EAAAA,EAAAA,IAAGf,EAAAgB,WAAWC,eAAe,oBAAsBjB,EAAAgB,WAAWS,iBAAmB,KAAO,cAAV,sBAErEzB,EAAAU,OAAOgB,sBAAmB,WAArCd,EAAAA,EAAAA,IAGM,MAHNe,EAGM,CAFJC,GAA6B,aAC7Bb,EAAAA,EAAAA,IAAGf,EAAAgB,WAAWC,eAAe,YAAcjB,EAAAgB,WAAWa,SAAW,MAAQ,cAAX,sBAErD7B,EAAAU,OAAOoB,iBAAc,WAAhClB,EAAAA,EAAAA,IAGM,MAHNmB,EAGM,CAFJC,GAAuB,aACvBjB,EAAAA,EAAAA,IAAGf,EAAAgB,WAAWC,eAAe,gBAAkBjB,EAAAiC,eAAejC,EAAAgB,WAAWkB,cAAgB,cAAJ,sBAE5ElC,EAAAU,OAAOyB,iBAAc,WAAhCvB,EAAAA,EAAAA,IAGM,MAHNwB,EAGM,CAFJC,GAAyB,aACzBtB,EAAAA,EAAAA,IAAGf,EAAAgB,WAAWC,eAAe,iBAAmBjB,EAAAsC,gBAAgBtC,EAAAgB,WAAWuB,eAAiB,cAAJ,yBAG5F3C,EAAAA,EAAAA,GAeM,MAfN4C,EAeM,EAdE5C,EAAAA,EAAAA,GAMO,OANP6C,EAMO,mBALAC,EAAAC,OAAOC,UAAY,mBAAJ,GAAwBC,EACb,YAApBH,EAAAC,OAAOC,WAAQ,WAAxBhC,EAAAA,EAAAA,IAGI,IAHJkC,EAC+C,yBAE/C,kBAEVlD,EAAAA,EAAAA,GAMM,MANNmD,EAMM,EALJnD,EAAAA,EAAAA,GAAyG,UAAhGoD,QAAK3C,EAAA,KAAAA,EAAA,GAAAH,GAAE+C,EAAAC,QAAQC,KAAK,MAAMxD,MAAM,gDAA+C,YACrD,YAArB+C,EAAAC,QAAQC,WAAQ,WAA9BhC,EAAAA,EAAAA,IAGS,U,MAFAoC,QAAK3C,EAAA,KAAAA,EAAA,GAAAH,GAAEF,EAAAoD,eACRzD,MAAM,mDAAkD,oBAChE,yB,8BCzFcA,MAAM,mD,GACxBC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,uBAAqB,EAC9BC,EAAAA,EAAAA,GAA2B,UAAvB,wBAAkB,G,GAEnBD,MAAM,qB,GACJA,MAAM,yB,6DATJ0D,EAAAtD,UAAO,WAAlBa,EAAAA,EAAAA,IAGM,O,MAFAoC,QAAK3C,EAAA,KAAAA,EAAA,OAAAiD,IAAEtD,EAAAuD,YAAAvD,EAAAuD,cAAAD,IACR3D,MAAM,wD,eAEA0D,EAAAtD,UAAO,WAAlBa,EAAAA,EAAAA,IAWM,MAXNL,EAWM,CAVJC,GAGAZ,EAAAA,EAAAA,GAMM,MANNa,EAMM,EALJb,EAAAA,EAAAA,GAEM,MAFNiB,GAEME,EAAAA,EAAAA,IAAA,KADIyC,gBAAc,IAExB5D,EAAAA,EAAAA,GACS,UADAoD,QAAK3C,EAAA,KAAAA,EAAA,OAAAiD,IAAEtD,EAAAyD,QAAAzD,EAAAyD,UAAAH,IAAQ3D,MAAM,mEAAkE,2BAChG,mB,sCC5CC,SAAS+D,IACX,IAAIC,MAAMC,GAAYC,MAC3B,CDDA,OACEC,MAAO,CACL/D,QAAS,CACPgE,KAAMC,QACNC,SAAS,GAEXT,eAAgB,CACdO,KAAMG,OACND,SAAS,EACTE,QAAS,KAGbC,QAAS,CACPb,aACEc,KAAKC,MAAM,cACb,EACAb,SACEY,KAAKd,aACLc,KAAKC,MAAM,SACb,GAEFC,MAAO,CACLxE,QAAS,SAAUyE,GACbA,GAAKd,GACX,I,QEtBJ,MAAMe,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,KAEpE,QHHA,GACEC,WAAY,CAACC,aAAYA,GACzBC,OACE,MAAO,CACLC,YAAa,KACblC,OAAQ,CAAC,EACTmC,WAAY,CACVlC,SAAU,GACVmC,SAAU,IAEZC,cAAe,qBAEnB,EACAC,sBACQZ,KAAKa,OAEPb,KAAKc,YACPd,KAAKQ,YAAcR,KAAKe,wBAG5B,EACAC,YACEC,aAAajB,KAAKQ,YACpB,EACAT,QAAS,CACPnC,eAAesD,GACb,MAAkB,OAAXA,EAAkB,YAAc,cACzC,EACAjD,gBAAgBiD,GACd,MAAkB,OAAXA,EAAkB,UAAY,QACvC,EACAN,aACEZ,KAAK1B,aAAe6C,EAAAA,EAAAA,MACpBnB,KAAKS,WAAWlC,SAAWyB,KAAK1B,OAAOC,UAAY,GACnDyB,KAAKS,WAAWC,SAAWV,KAAK1B,OAAOoC,UAAY,EACrD,EACAE,0BACQ7B,EAAAA,EAAAA,KACR,EACAqC,eAC2B,gBAArBpB,KAAKqB,OAAOC,MACdtB,KAAKnB,QAAQC,KAAK,IAEtB,EACA7C,iBAC2B,gBAArB+D,KAAKqB,OAAOC,MACdtB,KAAKnB,QAAQC,KAAK,CAACwC,KAAM,cAE7B,EACAP,wBACE,OAAIf,KAAK1B,OAAOC,WAAayB,KAAKW,cACzBY,WAAWvB,KAAK/D,eAAgB+D,KAAK3D,OAAOmF,+BAE9CD,WAAWvB,KAAKoB,aAAc,IACvC,GAEFK,SAAU,CACRX,YACE,OAAOd,KAAK3D,OAAOqF,UACrB,EACA9F,iBACE,OAAOoE,KAAK1B,OAAOC,WAAayB,KAAKW,aACvC,EACA7E,aACE,OAAOkE,KAAK1B,OAAOoC,UAAY,EACjC,EACA/D,aACE,OAAOqD,KAAK2B,OAAOC,MAAMjF,UAC3B,EACAN,SACE,OAAO2D,KAAK2B,OAAOC,MAAMC,QAAQxF,QAAU,CAAC,CAC9C,IItEJ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASyF,KAEpE,O","sources":["webpack://sdpo-frontend/./src/pages/inspection/Step-result.vue","webpack://sdpo-frontend/./src/components/ResultRepeat.vue","webpack://sdpo-frontend/./src/helpers/media.js","webpack://sdpo-frontend/./src/components/ResultRepeat.vue?3316","webpack://sdpo-frontend/./src/pages/inspection/Step-result.vue?00d1"],"sourcesContent":["<script>\r\nimport {saveInspection, replayPrint} from '@/helpers/api';\r\nimport ResultRepeat from \"@/components/ResultRepeat\";\r\n\r\nexport default {\r\n  components: {ResultRepeat},\r\n  data() {\r\n    return {\r\n      backTimeout: null,\r\n      result: {},\r\n      conclusion: {\r\n        admitted: '',\r\n        comments: '',\r\n      },\r\n      notIdentified: 'Не идентифицирован',\r\n    }\r\n  },\r\n  async mounted() {\r\n    await this.save();\r\n\r\n    if (this.autoStart) {\r\n      this.backTimeout = this.setTimeoutAndRedirect();\r\n    }\r\n\r\n  },\r\n  unmounted() {\r\n    clearTimeout(this.backTimeout);\r\n  },\r\n  methods: {\r\n    getSleepStatus(status) {\r\n      return status === 'Да' ? 'Выспались' : 'Не выспались';\r\n    },\r\n    getPeopleStatus(status) {\r\n      return status === 'Да' ? 'Хорошее' : 'Плохое';\r\n    },\r\n    async save() {\r\n      this.result = await saveInspection();\r\n      this.conclusion.admitted = this.result.admitted ?? '';\r\n      this.conclusion.comments = this.result.comments ?? '';\r\n    },\r\n    async replayPrint() {\r\n      await replayPrint();\r\n    },\r\n    redirectHome() {\r\n      if (this.$route.name === 'step-result') {\r\n        this.$router.push('/');\r\n      }\r\n    },\r\n    redirectRepeat() {\r\n      if (this.$route.name === 'step-result') {\r\n        this.$router.push({name: 'step-retry'});\r\n      }\r\n    },\r\n    setTimeoutAndRedirect() {\r\n      if (this.result.admitted === this.notIdentified) {\r\n        return setTimeout(this.redirectRepeat, this.system.delay_before_retry_inspection);\r\n      }\r\n      return setTimeout(this.redirectHome, 5000);\r\n    },\r\n  },\r\n  computed: {\r\n    autoStart() {\r\n      return this.system.auto_start;\r\n    },\r\n    showRetryModal() {\r\n      return this.result.admitted === this.notIdentified;\r\n    },\r\n    getComment() {\r\n      return this.result.comments ?? '';\r\n    },\r\n    inspection() {\r\n      return this.$store.state.inspection;\r\n    },\r\n    system() {\r\n      return this.$store.state.config?.system || {};\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<template>\r\n  <result-repeat v-model:visible=\"showRetryModal\"\r\n                 v-model:message-content=\"getComment\"\r\n                 @accept=\"redirectRepeat()\"\r\n  ></result-repeat>\r\n  <div class=\"step-result\">\r\n    <h3 class=\"animate__animated animate__fadeInDown\">Результаты осмотра</h3>\r\n    <div class=\"step-result__cards\">\r\n      <div v-if=\"system.tonometer_visible\" class=\"step-result__card animate__animated animate__fadeInUp d-1\">\r\n        <span>Давление</span>\r\n        {{ inspection.hasOwnProperty('tonometer') ? inspection.tonometer : 'Неизвестно' }}\r\n      </div>\r\n      <div v-if=\"system.tonometer_visible\" class=\"step-result__card animate__animated animate__fadeInUp d-2\">\r\n        <span>Пульс</span>\r\n        {{ inspection.hasOwnProperty('pulse') ? inspection.pulse : 'Неизвестно' }}\r\n      </div>\r\n      <div v-if=\"system.alcometer_visible\" class=\"step-result__card animate__animated animate__fadeInUp d-2\">\r\n        <span>Количество промилле</span>\r\n        {{ inspection.hasOwnProperty('alcometer_result') ? inspection.alcometer_result + ' ‰' : 'Неизвестно' }}\r\n      </div>\r\n      <div v-if=\"system.thermometer_visible\" class=\"step-result__card animate__animated animate__fadeInUp d-2\">\r\n        <span>Температура тела</span>\r\n        {{ inspection.hasOwnProperty('t_people') ? inspection.t_people + ' °C' : 'Неизвестно' }}\r\n      </div>\r\n      <div v-if=\"system.question_sleep\" class=\"step-result__card animate__animated animate__fadeInUp d-2\">\r\n        <span>Сонливость</span>\r\n        {{ inspection.hasOwnProperty('sleep_status') ? getSleepStatus(inspection.sleep_status) : 'Неизвестно' }}\r\n      </div>\r\n      <div v-if=\"system.question_helth\" class=\"step-result__card animate__animated animate__fadeInUp d-2\">\r\n        <span>Самочувствие</span>\r\n        {{ inspection.hasOwnProperty('people_status') ? getPeopleStatus(inspection.people_status) : 'Неизвестно' }}\r\n      </div>\r\n    </div>\r\n    <div class=\"step-result__footer\">\r\n            <span class=\"step-result__text animate__animated animate__fadeInUp\">\r\n                {{ result.admitted || 'ожидание ответа' }}<br>\r\n                <p v-if=\"result.admitted === 'Допущен'\"\r\n                   class=\"animate__animated animate__fadeInUp\">\r\n                        Счастливого пути!\r\n                </p>\r\n            </span>\r\n      <div class=\"step-result__buttons\">\r\n        <button @click=\"$router.push('/')\" class=\"btn blue animate__animated animate__fadeInUp\">В начало</button>\r\n        <button v-if=\"result?.admitted === 'Допущен'\"\r\n                @click=\"replayPrint()\"\r\n                class=\"btn opacity animate__animated animate__fadeInUp\">Повтор печати\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>","<script>\r\nimport {playAlert} from '@/helpers/media';\r\n\r\nexport default {\r\n  props: {\r\n    visible: {\r\n      type: Boolean,\r\n      require: true\r\n    },\r\n    messageContent: {\r\n      type: String,\r\n      require: true,\r\n      default: ''\r\n    }\r\n  },\r\n  methods: {\r\n    closeModal() {\r\n      this.$emit('close-modal')\r\n    },\r\n    accept() {\r\n      this.closeModal();\r\n      this.$emit('accept');\r\n    },\r\n  },\r\n  watch: {\r\n    visible: function (val) {\r\n      if (val) playAlert();\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div v-if=\"visible\"\r\n       @click=\"closeModal\"\r\n       class=\"medics__overlay animate__animated animate__fadeIn\">\r\n  </div>\r\n  <div v-if=\"visible\" class=\"approval animate__animated animate__fadeInRight\">\r\n    <div class=\"not-identify__title\">\r\n      <h3>Не идентифицирован</h3>\r\n    </div>\r\n    <div class=\"approval__content\">\r\n      <div class=\"not-identify__content\">\r\n        {{ this.messageContent }}\r\n      </div>\r\n      <button @click=\"accept\" class=\"btn approval__button-submit animate__animated animate__fadeInUp\">В начало осмотра\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n</template>","import alertPath from \"@/assets/audio/alert.ogg\";\r\n\r\nexport function playAlert() {\r\n    (new Audio(alertPath)).play();\r\n}","import { render } from \"./ResultRepeat.vue?vue&type=template&id=2ab604ec\"\nimport script from \"./ResultRepeat.vue?vue&type=script&lang=js\"\nexport * from \"./ResultRepeat.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\sdpo\\\\sdpo-java-main\\\\sdpo-java-main\\\\src\\\\main\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Step-result.vue?vue&type=template&id=74b0f939\"\nimport script from \"./Step-result.vue?vue&type=script&lang=js\"\nexport * from \"./Step-result.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\sdpo\\\\sdpo-java-main\\\\sdpo-java-main\\\\src\\\\main\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createVNode","_component_result_repeat","visible","$options","showRetryModal","$event","getComment","onAccept","_cache","redirectRepeat","_hoisted_1","_hoisted_2","_hoisted_3","system","tonometer_visible","_createElementBlock","_hoisted_4","_hoisted_5","_toDisplayString","inspection","hasOwnProperty","tonometer","_hoisted_6","_hoisted_7","pulse","alcometer_visible","_hoisted_8","_hoisted_9","alcometer_result","thermometer_visible","_hoisted_10","_hoisted_11","t_people","question_sleep","_hoisted_12","_hoisted_13","getSleepStatus","sleep_status","question_helth","_hoisted_14","_hoisted_15","getPeopleStatus","people_status","_hoisted_16","_hoisted_17","$data","result","admitted","_hoisted_18","_hoisted_19","_hoisted_20","onClick","_ctx","$router","push","replayPrint","$props","args","closeModal","messageContent","accept","playAlert","Audio","alertPath","play","props","type","Boolean","require","String","default","methods","this","$emit","watch","val","__exports__","components","ResultRepeat","data","backTimeout","conclusion","comments","notIdentified","async","save","autoStart","setTimeoutAndRedirect","unmounted","clearTimeout","status","saveInspection","redirectHome","$route","name","setTimeout","delay_before_retry_inspection","computed","auto_start","$store","state","config","render"],"sourceRoot":""}