{"version":3,"file":"js/394.09f733e8.js","mappings":"iLAEA,MAAMA,GAAQC,EAAAA,EAAAA,MAEPC,eAAeC,IAClB,aAAaC,MAAMC,KAAM,sBAAqBC,MAAK,EAAGC,UAC3CA,IACRC,MAAMC,EACb,CAEA,SAASA,EAAaC,GAClB,MAAMH,EAAOG,EAAMC,UAAUJ,KAC7B,GAAIA,GAAMK,QACNZ,EAAMU,MAAMH,EAAKK,cACd,GAAGF,EAAMC,SACZ,OAAQD,GAAOC,UAAUE,QACrB,KAAK,IAAKb,EAAMU,MAAM,8BACtB,KAAK,IAAKV,EAAMU,MAAM,kBACtB,QAASV,EAAMU,MAAM,mCAGzBI,EAAAA,EAAAA,OAAAA,aAA2B,EAG/BC,QAAQC,IAAIN,EAChB,C,qICiBSO,MAAM,iB,GACPC,EAAAA,EAAAA,GAGM,OAHDD,MAAM,UAAQ,EACfC,EAAAA,EAAAA,GAA+E,MAA3ED,MAAM,uCAAsC,+BAChDC,EAAAA,EAAAA,GAAyF,OAApFD,MAAM,0CAA0CE,IAAAC,M,MAGpDH,MAAM,gB,0CANfI,EAAAA,EAAAA,IAWM,MAXNC,EAWM,CAVFC,GAKAL,EAAAA,EAAAA,GAIM,MAJNM,EAIM,EAHFN,EAAAA,EAAAA,GAAiG,UAAxFO,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAC,QAAQC,KAAK,CAADC,KAAA,oBAA8Bd,MAAM,oBAAmB,SAErEe,KAAKC,MAAMC,EAAAC,OAAOC,oBAAgB,WADhDf,EAAAA,EAAAA,IACkF,U,MADzEI,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAC,QAAQC,KAAK,CAADC,KAAA,oBACuBd,MAAM,OAAM,gBAAU,kB,eAhDrF,GACIV,OACI,MAAO,CACH8B,SAAU,KAElB,EACAnC,gBACIoC,KAAKD,SAAWE,aAAYrC,UACxB,MAAMsC,QAAerC,EAAAA,EAAAA,UAENsC,IAAXD,GAAmC,OAAXA,GAIb,SAAXA,IAIJF,KAAKI,WAAWC,SAAWC,OAAOJ,IAAW,KAC7CK,cAAcP,KAAKD,UACnBC,KAAKT,QAAQC,KAAK,CAAEC,KAAM,mBAAmB,GAC9C,IAEP,EACAe,YACID,cAAcP,KAAKD,SACvB,EACAU,SAAU,CACNL,aACI,OAAOJ,KAAKU,OAAOC,MAAMP,UAC7B,EACAP,SACI,OAAOG,KAAKU,OAAOC,MAAMC,QAAQf,QAAU,CAAC,CAChD,I,QC/BR,MAAMgB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://sdpo-frontend/./src/helpers/thermometer.js","webpack://sdpo-frontend/./src/pages/steps/Step-thermometer.vue","webpack://sdpo-frontend/./src/pages/steps/Step-thermometer.vue?572b"],"sourcesContent":["import store from \"@/store\";\nimport { useToast } from \"vue-toastification\";\nconst toast = useToast();\n\nexport async function getTemp() {\n    return await axios.post(`device/thermometer`).then(({ data }) => {            \n        return data;\n    }).catch(defaultError);\n}\n\nfunction defaultError(error) {\n    const data = error.response?.data;\n    if (data?.message) {\n        toast.error(data.message);\n    } else if(error.response) {\n        switch (error?.response?.status) {\n            case 400: toast.error('Ошибка авторизации запроса')\n            case 500: toast.error('Ошибка сервера')\n            default: toast.error('Неизвестная ошибка запроса')\n        }\n    } else {    \n        store.$state.loseConnect = true;\n    }\n    \n    console.log(error);\n}","<script>\nimport { getTemp } from '@/helpers/thermometer';\n\nexport default {\n    data() {\n        return {\n            interval: null,\n        }\n    },\n    async mounted() {\n        this.interval = setInterval(async () => {\n            const result = await getTemp();\n\n            if (result === undefined || result === null) {\n                return;\n            }\n\n            if (result === 'next') {\n                return;\n            }\n\n            this.inspection.t_people = Number(result) || 36.6;\n            clearInterval(this.interval);\n            this.$router.push({ name: 'step-alcometer' });\n        }, 1000);\n       \n    },\n    unmounted() {\n        clearInterval(this.interval);\n    },\n    computed: {\n        inspection() {\n            return this.$store.state.inspection;\n        },\n        system() {\n            return this.$store.state.config?.system || {};\n        }\n    }\n}\n</script>\n\n<template>\n    <div class=\"step-4__outer\">\n        <div class=\"step-4\">\n            <h3 class=\"animate__animated animate__fadeInUp\">Измерение температуры тела</h3>\n            <img class=\"animate__animated animate__fadeInUp d-1\" src=\"@/assets/images/pirometer.png\">\n        </div>\n\n        <div class=\"step-buttons\">\n            <button @click=\"$router.push({ name: 'step-tonometer' })\" class=\"btn opacity blue\">Назад</button>\n            <button @click=\"$router.push({ name: 'step-alcometer' })\" \n                    v-if=\"JSON.parse(system.thermometer_skip)\" class=\"btn\">Продолжить</button>\n        </div>\n    </div>\n</template>","import { render } from \"./Step-thermometer.vue?vue&type=template&id=91dac9ae\"\nimport script from \"./Step-thermometer.vue?vue&type=script&lang=js\"\nexport * from \"./Step-thermometer.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/angryogurt/projects/sdpo/src/main/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["toast","useToast","async","getTemp","axios","post","then","data","catch","defaultError","error","response","message","status","store","console","log","class","_createElementVNode","src","_imports_0","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","onClick","_cache","$event","_ctx","$router","push","name","JSON","parse","$options","system","thermometer_skip","interval","this","setInterval","result","undefined","inspection","t_people","Number","clearInterval","unmounted","computed","$store","state","config","__exports__","render"],"sourceRoot":""}