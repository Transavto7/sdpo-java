{"version":3,"file":"js/107.f3cb8ffc.js","mappings":"iNAqESA,MAAM,e,SAC2BA,MAAM,gE,SAG5BA,MAAM,gE,GAGbA,MAAM,sB,GAINA,MAAM,iBAAiBC,IAAI,W,GAUiCC,EAAAA,EAAAA,GAA6B,KAA1BF,MAAM,iBAAe,S,GAAxBG,G,GAEoBD,EAAAA,EAAAA,GAAmC,KAAhCF,MAAM,uBAAqB,S,GAA9BI,G,SAGlCJ,MAAM,8D,0CA1B7DK,EAAAA,EAAAA,IA2BM,MA3BNC,EA2BM,CA1BSC,EAAAA,WAAWC,aAAU,WAAhCH,EAAAA,EAAAA,IAEM,MAFNI,GAEM,QADCF,EAAAA,WAAWC,YAAU,iBAE5BH,EAAAA,EAAAA,IAEM,MAFNK,EAAiF,iCAGjFR,EAAAA,EAAAA,GAEM,MAFNS,EAEM,WADFT,EAAAA,EAAAA,GAA8G,SAAvGU,KAAK,SAASZ,MAAM,wC,qCAAiDa,EAAAA,UAAS,GAAGC,QAAK,oBAAEP,EAAAA,aAAAA,EAAAA,eAAAA,K,iBAAnBM,EAAAA,gBAGhFX,EAAAA,EAAAA,GAaM,MAbNa,EAaM,EAZFb,EAAAA,EAAAA,GAAyE,UAAjEF,MAAM,uBAAwBgB,QAAK,eAAEH,EAAAA,WAAa,MAAK,MAC/DX,EAAAA,EAAAA,GAAyE,UAAjEF,MAAM,uBAAwBgB,QAAK,eAAEH,EAAAA,WAAa,MAAK,MAC/DX,EAAAA,EAAAA,GAAyE,UAAjEF,MAAM,uBAAwBgB,QAAK,eAAEH,EAAAA,WAAa,MAAK,MAC/DX,EAAAA,EAAAA,GAAyE,UAAjEF,MAAM,uBAAwBgB,QAAK,eAAEH,EAAAA,WAAa,MAAK,MAC/DX,EAAAA,EAAAA,GAAyE,UAAjEF,MAAM,uBAAwBgB,QAAK,eAAEH,EAAAA,WAAa,MAAK,MAC/DX,EAAAA,EAAAA,GAAyE,UAAjEF,MAAM,uBAAwBgB,QAAK,eAAEH,EAAAA,WAAa,MAAK,MAC/DX,EAAAA,EAAAA,GAAyE,UAAjEF,MAAM,uBAAwBgB,QAAK,eAAEH,EAAAA,WAAa,MAAK,MAC/DX,EAAAA,EAAAA,GAAyE,UAAjEF,MAAM,uBAAwBgB,QAAK,eAAEH,EAAAA,WAAa,MAAK,MAC/DX,EAAAA,EAAAA,GAAyE,UAAjEF,MAAM,uBAAwBgB,QAAK,iBAAEH,EAAAA,WAAa,MAAK,MAC/DX,EAAAA,EAAAA,GAAmG,UAA3FF,MAAM,uBAAwBgB,QAAK,iBAAEH,EAAAA,UAAY,K,IACzDX,EAAAA,EAAAA,GAAyE,UAAjEF,MAAM,uBAAwBgB,QAAK,iBAAEH,EAAAA,WAAa,MAAK,MAC/DX,EAAAA,EAAAA,GAA6H,UAArHF,MAAM,uBAAwBgB,QAAK,iBAAEH,EAAAA,UAAYA,EAAAA,UAAUI,MAAM,GAAI,K,SAEnEV,EAAAA,WAAWW,YAAS,WAAlCb,EAAAA,EAAAA,IAAyH,U,MAApFW,QAAK,sBAAET,EAAAA,OAAAA,EAAAA,SAAAA,IAAOP,MAAM,2CAA0C,kBACnFa,EAAAA,UAAUM,QAAU,IAAMN,EAAAA,UAAO,WAAjDR,EAAAA,EAAAA,IAA8I,MAA9Ie,EAAsH,wBAAkB,gB,+BC7FhJ,MAAMC,GAAQC,EAAAA,EAAAA,MAEPC,eAAeC,EAAUC,GAC5B,aAAaC,MAAMC,KAAM,cAAaF,KAAMG,MAAK,EAAGC,UACzCA,GAAMA,MAAMC,UACpBC,MAAMC,EACb,CAEA,SAASA,EAAaC,GAClB,OAAQA,GAAOC,UAAUC,QACrB,KAAK,IAAKd,EAAMY,MAAM,8BACtB,QAASZ,EAAMY,MAAM,8BAE7B,CDXA,OACGG,KAAM,OACNP,OACC,MAAO,CACHX,UAAW,GACXG,OAAOC,EAAAA,EAAAA,MACPe,SAAS,EAEd,EACAC,QAAS,CACRf,cACI,MAAMgB,QAAef,EAAUgB,KAAKtB,WACpC,IAAKqB,EAGD,OAFAC,KAAKtB,UAAY,QACjBsB,KAAKnB,MAAMY,MAAM,oCAIrBO,KAAKC,OAAOC,MAAMC,WAAWzB,UAAYqB,EAAOK,QAChDJ,KAAKC,OAAOC,MAAMC,WAAWnC,WAAa+B,EAAOM,IAEjDL,KAAKM,QAAQC,KAAK,UACtB,EACAxB,oBACI,GAAIiB,KAAKtB,UAAUC,OAAS,EAExB,YADAqB,KAAKC,OAAOC,MAAMC,WAAa,CAAC,GAIpCH,KAAKH,SAAU,EACf,MAAME,QAAef,EAAUgB,KAAKtB,WACpCsB,KAAKH,SAAU,EACVE,GAKLC,KAAKC,OAAOC,MAAMC,WAAWzB,UAAYqB,EAAOK,QAChDJ,KAAKC,OAAOC,MAAMC,WAAWnC,WAAa+B,EAAOM,KAL7CL,KAAKC,OAAOC,MAAMC,WAAa,CAAC,CAMxC,GAEDK,MAAO,CACF9B,UAAW,SAAU+B,GACjBT,KAAKU,aACT,GAELC,SAAU,CACTC,SACI,OAAOZ,KAAKC,OAAOC,MAAMU,MAC7B,EACAT,aACI,OAAOH,KAAKC,OAAOC,MAAMC,UAC7B,GAEDU,UACCb,KAAKc,MAAMC,QAAQC,iBAAiB,UAAUC,SAAQ,CAACC,EAAQC,KAC3DD,EAAOE,UAAUC,IAAI,qBACrBH,EAAOE,UAAUC,IAAI,qBACrBH,EAAOI,MAAMC,YAAY,kBAAsB,GAAO,IAAOJ,EAAhB,IAA0B,GAE5E,G,QE3DH,MAAMK,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://sdpo-frontend/./src/pages/Home.vue","webpack://sdpo-frontend/./src/helpers/api.js","webpack://sdpo-frontend/./src/pages/Home.vue?b9ed"],"sourcesContent":["<script>\nimport { getDriver } from '../helpers/api';\nimport { useToast } from \"vue-toastification\";\n\nexport default {\n   name: 'Home',\n   data() {\n    return {\n        driver_id: '',\n        toast: useToast(),\n        loading: false,\n    }\n   },\n   methods: {\n    async start() {\n        const driver = await getDriver(this.driver_id);\n        if (!driver) {\n            this.driver_id = '';\n            this.toast.error('Водитель с указаным ID не найден');\n            return;\n        }\n\n        this.$store.state.inspection.driver_id = driver.hash_id;\n        this.$store.state.inspection.driver_fio = driver.fio;\n\n        this.$router.push('/step/1');\n    },\n    async checkDriver() {\n        if (this.driver_id.length < 6) {\n            this.$store.state.inspection = {};\n            return;\n        }\n\n        this.loading = true;\n        const driver = await getDriver(this.driver_id);\n        this.loading = false;\n        if (!driver) {\n            this.$store.state.inspection = {};\n            return;\n        }\n\n        this.$store.state.inspection.driver_id = driver.hash_id;\n        this.$store.state.inspection.driver_fio = driver.fio;\n    }\n   },\n   watch: {\n        driver_id: function (val) {\n            this.checkDriver();\n        }\n   },\n   computed: {\n    config() {\n        return this.$store.state.config;\n    },\n    inspection() {\n        return this.$store.state.inspection;\n    }\n   },\n   mounted() {\n    this.$refs.numbers.querySelectorAll('button').forEach((button, index) => {\n        button.classList.add('animate__animated');\n        button.classList.add('animate__fadeInUp');\n        button.style.setProperty('animation-delay', `${0.6 + (0.05 * index)}s`);\n    });\n   }\n}\n</script>\n\n<template>\n    <div class=\"driver-form\">\n        <div v-if=\"inspection.driver_fio\" class=\"driver-form__title animate__animated animate__fadeInDown d-2\">\n            {{ inspection.driver_fio }}\n        </div>\n        <div v-else class=\"driver-form__title animate__animated animate__fadeInDown d-2\">\n            Введите ваш идентификатор\n        </div>\n        <div class=\"driver-form__input\">\n            <input type=\"number\" class=\"animate__animated animate__fadeIn d-5\" v-model=\"driver_id\" @input=\"checkDriver\" />\n        </div>\n\n        <div class=\"number-buttons\" ref=\"numbers\">\n            <button class=\"number-buttons__item\" @click=\"driver_id += '1'\">1</button>\n            <button class=\"number-buttons__item\" @click=\"driver_id += '2'\">2</button>\n            <button class=\"number-buttons__item\" @click=\"driver_id += '3'\">3</button>\n            <button class=\"number-buttons__item\" @click=\"driver_id += '4'\">4</button>\n            <button class=\"number-buttons__item\" @click=\"driver_id += '5'\">5</button>\n            <button class=\"number-buttons__item\" @click=\"driver_id += '6'\">6</button>\n            <button class=\"number-buttons__item\" @click=\"driver_id += '7'\">7</button>\n            <button class=\"number-buttons__item\" @click=\"driver_id += '8'\">8</button>\n            <button class=\"number-buttons__item\" @click=\"driver_id += '9'\">9</button>\n            <button class=\"number-buttons__item\" @click=\"driver_id = ''\"><i class=\"ri-close-fill\"></i></button>\n            <button class=\"number-buttons__item\" @click=\"driver_id += '0'\">0</button>\n            <button class=\"number-buttons__item\" @click=\"driver_id = driver_id.slice(0, -1)\"><i class=\"ri-delete-back-line\"></i></button>\n        </div>\n        <button v-if=\"inspection.driver_id\" @click=\"start\" class=\"btn animate__animated animate__fadeInUp\">начать осмотр</button>\n        <div v-else-if=\"driver_id.length >= 6 && !loading\" class=\"driver-form__not-found animate__animated animate__fadeInUp\">Водитель не найден</div>\n    </div>\n</template>","import store from \"@/store\";\nimport { useToast } from \"vue-toastification\";\nconst toast = useToast();\n\nexport async function getDriver(id) {\n    return await axios.post(`inspection/${id}`).then(({ data }) => {\n        return data?.data?.message;\n    }).catch(defaultError);\n}\n\nfunction defaultError(error) {\n    switch (error?.response?.status) {\n        case 400: toast.error('Ошибка авторизации запроса')\n        default: toast.error('Неизвестная ошибка запроса')\n    }\n}","import { render } from \"./Home.vue?vue&type=template&id=370e1abf\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/ellidey/web/sdpo/src/main/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","ref","_createElementVNode","_hoisted_6","_hoisted_8","_createElementBlock","_hoisted_1","$options","driver_fio","_hoisted_2","_hoisted_3","_hoisted_4","type","$data","onInput","_hoisted_5","onClick","slice","driver_id","length","_hoisted_10","toast","useToast","async","getDriver","id","axios","post","then","data","message","catch","defaultError","error","response","status","name","loading","methods","driver","this","$store","state","inspection","hash_id","fio","$router","push","watch","val","checkDriver","computed","config","mounted","$refs","numbers","querySelectorAll","forEach","button","index","classList","add","style","setProperty","__exports__","render"],"sourceRoot":""}