"use strict";(self["webpackChunksdpo_frontend"]=self["webpackChunksdpo_frontend"]||[]).push([[141],{7557:function(t,e,s){s.d(e,{Z:function(){return m}});var n=s(3396);const i={class:"number-buttons",ref:"numbers"},a=(0,n._)("i",{class:"ri-close-fill"},null,-1),o=[a],r=(0,n._)("i",{class:"ri-delete-back-line"},null,-1),l=[r];function p(t,e,s,a,r,p){return(0,n.wg)(),(0,n.iD)("div",i,[(0,n._)("button",{class:"number-buttons__item",onClick:e[0]||(e[0]=t=>p.pushIntoNumber("1"))},"1"),(0,n._)("button",{class:"number-buttons__item",onClick:e[1]||(e[1]=t=>p.pushIntoNumber("2"))},"2"),(0,n._)("button",{class:"number-buttons__item",onClick:e[2]||(e[2]=t=>p.pushIntoNumber("3"))},"3"),(0,n._)("button",{class:"number-buttons__item",onClick:e[3]||(e[3]=t=>p.pushIntoNumber("4"))},"4"),(0,n._)("button",{class:"number-buttons__item",onClick:e[4]||(e[4]=t=>p.pushIntoNumber("5"))},"5"),(0,n._)("button",{class:"number-buttons__item",onClick:e[5]||(e[5]=t=>p.pushIntoNumber("6"))},"6"),(0,n._)("button",{class:"number-buttons__item",onClick:e[6]||(e[6]=t=>p.pushIntoNumber("7"))},"7"),(0,n._)("button",{class:"number-buttons__item",onClick:e[7]||(e[7]=t=>p.pushIntoNumber("8"))},"8"),(0,n._)("button",{class:"number-buttons__item",onClick:e[8]||(e[8]=t=>p.pushIntoNumber("9"))},"9"),(0,n._)("button",{class:"number-buttons__item",onClick:e[9]||(e[9]=t=>p.clearPassword())},o),(0,n._)("button",{class:"number-buttons__item",onClick:e[10]||(e[10]=t=>p.pushIntoNumber("0"))},"0"),(0,n._)("button",{class:"number-buttons__item",onClick:e[11]||(e[11]=t=>p.popIntoNumber())},l)],512)}var c={name:"InputNumber",methods:{pushIntoNumber(t){this.$emit("pushIntoNumber",t)},popIntoNumber(){this.$emit("popIntoNumber")},clearPassword(){this.$emit("clearNumber")}},mounted(){this.$refs.numbers.querySelectorAll("button").forEach(((t,e)=>{t.classList.add("animate__animated"),t.classList.add("animate__fadeInUp"),t.style.setProperty("animation-delay",.6+.05*e+"s")}))}},u=s(89);const d=(0,u.Z)(c,[["render",p]]);var m=d},9775:function(t,e,s){s.d(e,{Z:function(){return p}});var n=s(3396);function i(t,e,s,i,a,o){const r=(0,n.up)("input-number");return(0,n.wg)(),(0,n.j4)(r,{onPushIntoNumber:e[0]||(e[0]=t=>o.pushCharIntoPassword(t)),onPopIntoNumber:e[1]||(e[1]=()=>o.extractLastCharIntoPassword()),onClearNumber:e[2]||(e[2]=()=>o.clearPassword())})}var a=s(7557),o={name:"InputPersonalNumberForm",components:{InputNumber:a.Z},data(){return{password:""}},methods:{pushCharIntoPassword(t){this.password+=t},extractLastCharIntoPassword(){this.password=this.password.slice(0,-1)},clearPassword(){this.password=""},emitPass(){this.$emit("password",this.password)}},watch:{password:function(){this.emitPass()}}},r=s(89);const l=(0,r.Z)(o,[["render",i]]);var p=l},2141:function(t,e,s){s.r(e),s.d(e,{default:function(){return J}});var n=s(3396),i=s(7139),a=s(9242);const o={class:"home"},r={class:"driver-form"},l={key:0,class:"driver-form__title animate__animated animate__fadeInDown d-2"},p={key:1,class:"driver-form__title animate__animated animate__fadeInDown d-2"},c={class:"driver-form__input"},u={key:2,class:"login__approval-card animate__animated animate__fadeInUp"},d={key:4,class:"driver-form__not-found animate__animated animate__fadeInUp"};function m(t,e,s,m,h,_){const w=(0,n.up)("medic-select"),f=(0,n.up)("input-phone-number"),g=(0,n.up)("approval-modal"),b=(0,n.up)("input-personal-number-form");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(w),(0,n.Wm)(f),(0,n.Wm)(g,{visible:h.visibleApprovalDoc,"onUpdate:visible":e[0]||(e[0]=t=>h.visibleApprovalDoc=t),onCloseModal:e[1]||(e[1]=t=>h.visibleApprovalDoc=!1),onAccept:e[2]||(e[2]=t=>h.processingApproval=!0)},null,8,["visible"]),(0,n._)("div",o,[(0,n._)("div",r,[_.inspection.driver_fio?((0,n.wg)(),(0,n.iD)("div",l,(0,i.zw)(_.inspection.driver_fio),1)):((0,n.wg)(),(0,n.iD)("div",p," Введите ваш идентификатор ")),(0,n._)("div",c,[(0,n.wy)((0,n._)("input",{type:"number",class:"animate__animated animate__fadeIn d-5","onUpdate:modelValue":e[3]||(e[3]=t=>h.driver_id=t),onInput:e[4]||(e[4]=(...t)=>_.checkDriver&&_.checkDriver(...t))},null,544),[[a.nr,h.driver_id]])]),(0,n.Wm)(b,{onPassword:e[5]||(e[5]=t=>_.updateDriverId(t))}),_.hasDriver?((0,n.wg)(),(0,n.iD)("div",u,[(0,n.wy)((0,n._)("input",{type:"checkbox","onUpdate:modelValue":e[6]||(e[6]=t=>h.processingApproval=t)},null,512),[[a.e8,h.processingApproval]]),(0,n._)("p",null,[(0,n.Uk)("Даю согласие на "),(0,n._)("ins",{onClick:e[7]||(e[7]=t=>h.visibleApprovalDoc=!0)}," обработку персональных данных")])])):(0,n.kq)("",!0),_.hasDriver&&h.processingApproval?((0,n.wg)(),(0,n.iD)("button",{key:3,onClick:e[8]||(e[8]=(...t)=>_.start&&_.start(...t)),class:"btn animate__animated animate__fadeInUp"}," начать осмотр ")):h.error?((0,n.wg)(),(0,n.iD)("div",d,(0,i.zw)(h.error),1)):(0,n.kq)("",!0)])])],64)}s(7658);var h=s(6509),_=s(4677);const w={key:1,class:"medics animate__animated animate__fadeInRight"},f={key:0,class:"medics__form"},g=(0,n._)("div",{class:"login-form__title"}," Введите пароль ",-1),b={class:"login-form__input"},v={class:"medics__form-selected"},y={key:1,class:"medics__select"},k={key:0,class:"medics__town"},N={class:"medics__point"},I=["onClick"];function D(t,e,s,o,r,l){const p=(0,n.up)("input-personal-number-form");return(0,n.wg)(),(0,n.iD)(n.HY,null,[l.visible?((0,n.wg)(),(0,n.iD)("div",{key:0,onClick:e[0]||(e[0]=e=>t.$store.state.selectingMedic=!1),class:"medics__overlay animate__animated animate__fadeIn"})):(0,n.kq)("",!0),l.visible?((0,n.wg)(),(0,n.iD)("div",w,["login"===r.status?((0,n.wg)(),(0,n.iD)("div",f,[g,(0,n._)("div",b,[(0,n.wy)((0,n._)("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=t=>r.password=t)},null,512),[[a.nr,r.password]])]),(0,n.Wm)(p,{onPassword:e[2]||(e[2]=t=>l.updatePassword(t))}),(0,n._)("div",v,(0,i.zw)(l.medic.name||"Сотрудник не выбран"),1)])):((0,n.wg)(),(0,n.iD)("div",y,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.towns,((t,e)=>((0,n.wg)(),(0,n.iD)("div",{key:e},[t?((0,n.wg)(),(0,n.iD)("div",k,(0,i.zw)(t),1)):(0,n.kq)("",!0),t?((0,n.wg)(!0),(0,n.iD)(n.HY,{key:1},(0,n.Ko)(r.medics[t],((t,e)=>((0,n.wg)(),(0,n.iD)("div",{key:e},[(0,n._)("div",N,(0,i.zw)(e),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t,(t=>((0,n.wg)(),(0,n.iD)("button",{key:t.id,class:"medics__item",onClick:e=>l.select(t)},(0,i.zw)(t.name),9,I)))),128))])))),128)):(0,n.kq)("",!0)])))),128))]))])):(0,n.kq)("",!0)],64)}var C=s(9775),$={components:{InputPersonalNumberForm:C.Z},data(){return{medics:{},towns:[],status:"login",password:""}},async mounted(){this.medics=await(0,h.oP)(),this.towns=Object.keys(this.medics).sort()},methods:{updatePassword(t){this.password=t},login(){this.password===this.config?.medic_password&&(this.password="",this.status="select")},async select(t){this.$store.state.config.main.selected_medic={name:t.name,id:t.id,eds:t.eds},this.status="login",await(0,h.sl)(this.medic)}},computed:{medic(){return this.$store.state.config?.main?.selected_medic||{}},config(){return this.$store.state.config?.main},visible(){return this.$store.state.selectingMedic}},watch:{password:function(t){this.login()}}},P=s(89);const A=(0,P.Z)($,[["render",D]]);var M=A;const Z={key:1,class:"approval animate__animated animate__fadeInRight"},U=(0,n._)("div",{class:"approval__title"},[(0,n._)("span",{style:{"font-weight":"400"}},"Согласие на обработку персональных данных (далее – «согласие»)")],-1),q={class:"approval__content"},x=(0,n.uE)('<div><ol><li><span style="font-weight:400;"> Настоящим я, во исполнение требований Федерального закона от 27.07.2006 г. № 152-ФЗ «О персональных данных» (с изменениями и дополнениями), Федерального закона от 13.03.2006 N 38-ФЗ «О рекламе» (с изменениями и дополнениями), свободно, своей волей и в своем интересе даю свое согласие ООО  «Трансавто-7»  (ОГРН 1149204036123) (далее – «Оператор») на обработку своих персональных данных, указанных при регистрации, биометрических персональных данных, </span><span style="font-weight:400;">характеризующих физиологические и биологические особенности человека</span><span style="font-weight:400;"> при прохождении предрейсового/предсменного, послерейсового/послесменного медицинского осмотра </span><span style="font-weight:400;">с использованием медицинских изделий, обеспечивающих автоматизированную дистанционную передачу информации о состоянии здоровья и дистанционный контроль состояния здоровья</span><span style="font-weight:400;"> путем заполнения веб-формы на сайте Оператора и его поддоменов (далее – «Сайт»), направляемой (заполненной) с использованием Сайта; а также даю свое согласие на осуществление фотовидеофиксации для проведения идентификации личности и измерений.</span></li><li><span style="font-weight:400;"> Настоящим я, во исполнение требований Федерального закона от 27.07.2006 г. № 152-ФЗ «О персональных данных» (с изменениями и дополнениями), Федерального закона от 13.03.2006 N 38-ФЗ «О рекламе» (с изменениями и дополнениями), свободно, своей волей и в своем интересе даю свое согласие ООО  «Трансавто-7»  (ОГРН 1149204036123) (далее – «Оператор») на обработку своих персональных данных, указанных при регистрации, биометрических персональных данных, </span><span style="font-weight:400;">характеризующих физиологические и биологические особенности человека</span><span style="font-weight:400;"> при прохождении предрейсового/предсменного, послерейсового/послесменного медицинского осмотра </span><span style="font-weight:400;">с использованием медицинских изделий, обеспечивающих автоматизированную дистанционную передачу информации о состоянии здоровья и дистанционный контроль состояния здоровья</span><span style="font-weight:400;"> путем заполнения веб-формы на сайте Оператора и его поддоменов (далее – «Сайт»), направляемой (заполненной) с использованием Сайта; а также даю свое согласие на осуществление фотовидеофиксации для проведения идентификации личности и измерений.</span></li><li><span style="font-weight:400;"> Я согласен с тем, что в рамках обработки персональных данных  Оператор  вправе осуществлять сбор, запись, систематизацию, накопление, анализ, использование, извлечение, передачу, получение, обработку</span><span style="font-weight:400;"> в биометрических системах идентификации,</span> <span style="font-weight:400;">хранение, уточнение (обновление, изменение), обезличивание, блокирование, удаление, уничтожение моих персональных данных путем ведения баз данных автоматизированным, механическим, ручным способами в целях:</span></li></ol><ul><li style="font-weight:400;"><span style="font-weight:400;">Прохождения предрейсового/предсменного, послерейсового/послесменного медицинского осмотра </span><span style="font-weight:400;">с использованием медицинских изделий, обеспечивающих автоматизированную дистанционную передачу информации</span><span style="font-weight:400;">;</span></li><li style="font-weight:400;"><span style="font-weight:400;">Связи с технической поддержкой Оператора;</span></li><li style="font-weight:400;"><span style="font-weight:400;">Предоставления поддержки при пользовании Сайтом;</span></li><li style="font-weight:400;"><span style="font-weight:400;">Реализации и оказания телемедицинских услуг;</span></li><li style="font-weight:400;"><span style="font-weight:400;">Технической поддержки при обработке информации, документации и персональных данных с использованием средств автоматизации и без такого использования.</span></li></ul><p><span style="font-weight:400;">Перечень моих персональных данных, на обработку которых я даю согласие:</span></p><ul><li style="font-weight:400;"><span style="font-weight:400;">Фамилия, имя, отчество;</span></li><li style="font-weight:400;"><span style="font-weight:400;">Контактный телефон;</span></li><li style="font-weight:400;"><span style="font-weight:400;">Адрес электронной почты;</span></li><li style="font-weight:400;"><span style="font-weight:400;">Пол;</span></li><li style="font-weight:400;"><span style="font-weight:400;">Возраст;</span></li><li style="font-weight:400;"><span style="font-weight:400;">Паспортные данные;</span></li><li style="font-weight:400;"><span style="font-weight:400;">СНИЛС;</span></li><li style="font-weight:400;"><span style="font-weight:400;">ИНН;</span></li><li style="font-weight:400;"><span style="font-weight:400;">Место работы и связанная с этим информация;</span></li><li style="font-weight:400;"><span style="font-weight:400;">Адрес проживания;</span></li><li style="font-weight:400;"><span style="font-weight:400;">Водительское удостоверение;</span></li><li style="font-weight:400;"><span style="font-weight:400;">Показатели здоровья;</span></li><li style="font-weight:400;"><span style="font-weight:400;">Аудиозаписи:  разговора с сотрудниками тех. поддержки; и (или) системы автоматической записи; и (или) разговора с сотрудниками Оператора; а также фото - и видеоматериал.</span></li></ul><ol start="3"><li><span style="font-weight:400;"> Я выражаю согласие и разрешаю Оператору объединять персональные данные в информационную систему персональных данных и обрабатывать мои персональные данные с помощью средств автоматизации либо без использования средств автоматизации </span><span style="font-weight:400;">в биометрических системах идентификации</span><span style="font-weight:400;">,</span><span style="font-weight:400;"> а также с помощью иных программных средств, специально разработанных по поручению Оператора. Работа с информационными системами персональных данных осуществляется по предписанному Оператору алгоритму (сбор, систематизация, накопление, хранение, уточнение, использование, блокирование, уничтожение, др.). Используемые способы обработки, включая, но не ограничиваясь: уточнение данных со мной (посредством почтовой связи, электронной почты, телефонной связи (включая мобильную связь), факсимильной связи, сети Интернет), сегментация информационной базы по заданным критериям, периодические контакты со мной посредством телефонной связи (включая мобильную связь), посредством электронной почты или сети Интернет. </span></li><li><span style="font-weight:400;"> Настоящим я уведомлен Оператором о том, что предполагаемыми пользователями персональных данных являются работники Оператора, технической поддержки, партнеры Оператора.</span></li><li><span style="font-weight:400;"> Я ознакомлен(а), что:</span></li></ol><p><span style="font-weight:400;">- настоящее согласие на обработку моих персональных данных является бессрочным и может быть отозвано посредством направления в адрес Оператора письменного заявления, в том числе на электронную почту office@transavto7.ru. Датой отзыва считается день, следующий за днём вручения Оператору письменного заявления об отзыве согласия на обработку персональных данных;</span><span style="font-weight:400;"><br></span><span style="font-weight:400;">- имею право на доступ к своим персональным данным, требовать уточнения (обновление, изменение) моих персональных данных, а также удаления и уничтожения моих персональных данных в случае их обработки Оператором, нарушающих мои законные права и интересы, законодательство Российской Федерации. </span></p><ol start="6"><li><span style="font-weight:400;"> Я обязуюсь в случае изменения моих персональных данных, сведений обо мне незамедлительно сообщать Оператору с предоставлением подтверждающих документов.</span></li><li><span style="font-weight:400;"> Настоящее Согласие признается мной, Оператором моим письменным согласием на обработку моих персональных данных; а также на осуществление Оператором фотовидеофиксации.</span></li><li><span style="font-weight:400;"> Настоящим Согласием я подтверждаю, что являюсь субъектом предоставляемых персональных данных, а также подтверждаю достоверность предоставляемых данных.</span></li></ol></div>',1);function L(t,e,s,i,a,o){return(0,n.wg)(),(0,n.iD)(n.HY,null,[s.visible?((0,n.wg)(),(0,n.iD)("div",{key:0,onClick:e[0]||(e[0]=(...t)=>o.closeModal&&o.closeModal(...t)),class:"medics__overlay animate__animated animate__fadeIn"})):(0,n.kq)("",!0),s.visible?((0,n.wg)(),(0,n.iD)("div",Z,[U,(0,n._)("div",q,[x,(0,n._)("button",{onClick:e[1]||(e[1]=(...t)=>o.accept&&o.accept(...t)),class:"btn animate__animated animate__fadeInUp"},"Принять")])])):(0,n.kq)("",!0)],64)}var H={props:{visible:{type:Boolean,require:!0}},methods:{closeModal(){this.$emit("close-modal")},accept(){this.closeModal(),this.$emit("accept")}}};const z=(0,P.Z)(H,[["render",L]]);var W=z;const Y={class:"home"},O={class:"driver-form"},R=(0,n._)("div",{class:"driver-form__title animate__animated animate__fadeInDown d-2"}," Введите номер личный номер телефона ",-1),j={class:"driver-form__input"};function S(t,e,s,i,o,r){const l=(0,n.up)("input-number");return(0,n.wg)(),(0,n.iD)("div",Y,[(0,n._)("div",O,[R,(0,n._)("div",j,[(0,n.wy)((0,n._)("input",{type:"text",class:"animate__animated animate__fadeIn d-5",style:{"letter-spacing":"4px"},"onUpdate:modelValue":e[0]||(e[0]=t=>o.maskNumber=t)},null,512),[[a.nr,o.maskNumber]])]),(0,n.Wm)(l,{onPushIntoNumber:e[1]||(e[1]=t=>r.pushIntoNumber(t)),onPopIntoNumber:e[2]||(e[2]=()=>r.popIntoNumber()),onClearNumber:e[3]||(e[3]=()=>r.clearNumber())})])])}var V=s(7557),E={name:"InputPhoneNumber",components:{InputNumber:V.Z},props:{maskInput:{type:String,default:()=>"+7 ... ... .. .."},placeholder:{type:String,default:()=>"."}},data(){return{originNumber:"",maskNumber:"",mask:this.maskInput}},methods:{pushIntoNumber(t){this.isMaxLengthReached()||0===this.originNumber.length&&"8"===t||(this.originNumber+=t),console.log(this.originNumber)},popIntoNumber(){this.originNumber=this.originNumber.slice(0,-1)},clearNumber(){this.originNumber=""},countOccurrences(){let t=0;for(let e=0;e<this.mask.length;e++)this.mask.charAt(e)===this.placeholder&&t++;return t},isMaxLengthReached(){return this.originNumber.length===this.countOccurrences()},replaceAt(t,e,s){return t.substr(0,e)+s+t.substr(e+s.length)},setMaskNumber(){let t=this.originNumber,e=this.mask;Array.from(t).forEach((t=>{e=this.replaceAt(e,e.indexOf("."),t)})),this.maskNumber=e.split(".").join(""),this.isMaxLengthReached()&&this.$emit("acceptOn",this.maskNumber.split(" ").join(""))}},watch:{originNumber:function(){this.setMaskNumber()}},mounted(){this.setMaskNumber()}};const F=(0,P.Z)(E,[["render",S]]);var K=F,B={name:"Home",components:{InputPhoneNumber:K,MedicSelect:M,ApprovalModal:W,InputPersonalNumberForm:C.Z},data(){return{driver_id:"",error:"",toast:(0,_.pm)(),loading:!1,processingApproval:!1,visibleApprovalDoc:!1}},methods:{async start(){const t=await(0,h.L$)(this.driver_id);if(!t)return this.driver_id="",void this.toast.error("Водитель с указаным ID не найден");this.$store.state.inspection.driver_id=t.hash_id,this.$store.state.inspection.driver_fio=t.fio,this.$router.push({name:"step-driver"})},updateDriverId(t){this.driver_id=t},async checkDriver(){if(this.$store.state.inspection={},this.error=null,!(this.driver_id.length<6)){this.loading=!0;try{const t=await(0,h.L$)(this.driver_id);t?(this.$store.state.inspection.driver_id=t.hash_id,this.$store.state.inspection.driver_fio=t.fio,this.$store.state.driver=t,this.error=null):(this.$store.state.inspection={},this.error="Водитель не найден")}catch(t){console.log(t.response?.data?.message),this.error=t.response?.data?.message||"Неизвестная ошибка",this.$store.state.inspection={}}this.loading=!1}}},watch:{driver_id:function(t){this.checkDriver(),this.hasDriver||(this.processingApproval=!1)}},computed:{config(){return this.$store.state.config},inspection(){return this.$store.state.inspection},hasDriver(){return this.inspection.driver_id&&!this.error}}};const G=(0,P.Z)(B,[["render",m]]);var J=G}}]);
//# sourceMappingURL=141.c72f0431.js.map