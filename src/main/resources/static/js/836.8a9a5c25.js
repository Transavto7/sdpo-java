"use strict";(self["webpackChunksdpo_frontend"]=self["webpackChunksdpo_frontend"]||[]).push([[836],{1836:function(t,i,e){e.r(i),e.d(i,{default:function(){return w}});var n=e(3396),r=e(9242);const s={class:"driver-form"},a=(0,n._)("div",{class:"driver-form__title animate__animated animate__fadeInDown d-4"}," Введите ваш идентификатор ",-1),o={class:"driver-form__input"},d={class:"number-buttons",ref:"numbers"},_=(0,n._)("i",{class:"ri-close-fill"},null,-1),c=[_],u=(0,n._)("i",{class:"ri-delete-back-line"},null,-1),l=[u],m={key:1,class:"driver-form__not-found animate__animated animate__fadeInUp"};function b(t,i,e,_,u,b){return(0,n.wg)(),(0,n.iD)("div",s,[a,(0,n._)("div",o,[(0,n.wy)((0,n._)("input",{type:"number",class:"animate__animated animate__fadeIn d-5","onUpdate:modelValue":i[0]||(i[0]=t=>u.driver_id=t),onInput:i[1]||(i[1]=(...t)=>b.checkDriver&&b.checkDriver(...t))},null,544),[[r.nr,u.driver_id]])]),(0,n._)("div",d,[(0,n._)("button",{class:"number-buttons__item",onClick:i[2]||(i[2]=t=>u.driver_id+="1")},"1"),(0,n._)("button",{class:"number-buttons__item",onClick:i[3]||(i[3]=t=>u.driver_id+="2")},"2"),(0,n._)("button",{class:"number-buttons__item",onClick:i[4]||(i[4]=t=>u.driver_id+="3")},"3"),(0,n._)("button",{class:"number-buttons__item",onClick:i[5]||(i[5]=t=>u.driver_id+="4")},"4"),(0,n._)("button",{class:"number-buttons__item",onClick:i[6]||(i[6]=t=>u.driver_id+="5")},"5"),(0,n._)("button",{class:"number-buttons__item",onClick:i[7]||(i[7]=t=>u.driver_id+="6")},"6"),(0,n._)("button",{class:"number-buttons__item",onClick:i[8]||(i[8]=t=>u.driver_id+="7")},"7"),(0,n._)("button",{class:"number-buttons__item",onClick:i[9]||(i[9]=t=>u.driver_id+="8")},"8"),(0,n._)("button",{class:"number-buttons__item",onClick:i[10]||(i[10]=t=>u.driver_id+="9")},"9"),(0,n._)("button",{class:"number-buttons__item",onClick:i[11]||(i[11]=t=>u.driver_id="")},c),(0,n._)("button",{class:"number-buttons__item",onClick:i[12]||(i[12]=t=>u.driver_id+="0")},"0"),(0,n._)("button",{class:"number-buttons__item",onClick:i[13]||(i[13]=t=>u.driver_id=u.driver_id.slice(0,-1))},l)],512),b.inspection.driver_id?((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:i[14]||(i[14]=(...t)=>b.start&&b.start(...t)),class:"btn animate__animated animate__fadeInUp"},"начать осмотр")):u.driver_id.length>=6&&!u.loading?((0,n.wg)(),(0,n.iD)("div",m,"Водитель не найден")):(0,n.kq)("",!0)])}e(7658),e(7625);var v=e(4677);const h=(0,v.pm)();async function f(t){return await axios.post(`inspection/${t}`).then((({data:t})=>t?.data?.message)).catch(p)}function p(t){switch(t?.response?.status){case 400:h.error("Ошибка авторизации запроса");default:h.error("Неизвестная ошибка запроса")}}var k={name:"Home",data(){return{driver_id:"",toast:(0,v.pm)(),loading:!1}},methods:{async start(){const t=await f(this.driver_id);if(!t)return this.driver_id="",void this.toast.error("Водитель с указаным ID не найден");this.$store.state.inspection.driver_id=t.hash_id,this.$store.state.inspection.driver_fio=t.fio,this.$router.push("/step/1")},async checkDriver(){if(this.driver_id.length<6)return void(this.$store.state.inspection={});this.loading=!0;const t=await f(this.driver_id);this.loading=!1,t?(this.$store.state.inspection.driver_id=t.hash_id,this.$store.state.inspection.driver_fio=t.fio):this.$store.state.inspection={}}},watch:{driver_id:function(t){this.checkDriver()}},computed:{config(){return this.$store.state.config},inspection(){return this.$store.state.inspection}},mounted(){this.$refs.numbers.querySelectorAll("button").forEach(((t,i)=>{t.classList.add("animate__animated"),t.classList.add("animate__fadeInUp"),t.style.setProperty("animation-delay",.6+.05*i+"s")}))}},C=e(89);const g=(0,C.Z)(k,[["render",b]]);var w=g}}]);
//# sourceMappingURL=836.8a9a5c25.js.map