{"version":3,"file":"js/363.607b6817.js","mappings":"+KAEA,MAAMA,GAAQC,EAAAA,EAAAA,MAEPC,eAAeC,IAClB,aAAaC,MAAMC,KAAM,sBAAqBC,MAAK,EAAGC,UAC3CA,IACRC,MAAMC,EACb,CAEA,SAASA,EAAaC,GAClB,MAAMH,EAAOG,EAAMC,UAAUJ,KAC7B,GAAIA,GAAMK,QACNZ,EAAMU,MAAMH,EAAKK,cAEjB,OAAQF,GAAOC,UAAUE,QACrB,KAAK,IAAKb,EAAMU,MAAM,8BACtB,KAAK,IAAKV,EAAMU,MAAM,kBACtB,QAASV,EAAMU,MAAM,8BAI7BI,QAAQC,IAAIL,EAChB,C,sICeSM,MAAM,iB,GACPC,EAAAA,EAAAA,GAGM,OAHDD,MAAM,UAAQ,EACfC,EAAAA,EAAAA,GAA+E,MAA3ED,MAAM,uCAAsC,+BAChDC,EAAAA,EAAAA,GAAyF,OAApFD,MAAM,0CAA0CE,IAAAC,M,MAGpDH,MAAM,gB,0CANfI,EAAAA,EAAAA,IAUM,MAVNC,EAUM,CATFC,GAKAL,EAAAA,EAAAA,GAGM,MAHNM,EAGM,EAFFN,EAAAA,EAAAA,GAAgF,UAAvEO,QAAK,eAAEC,EAAAA,QAAQC,KAAK,YAAYV,MAAM,oBAAmB,SACnBW,KAAKC,MAAMC,EAAAA,OAAOC,oBAAgB,WAAjFV,EAAAA,EAAAA,IAAmH,U,MAA1GI,QAAK,eAAEC,EAAAA,QAAQC,KAAK,YAAuDV,MAAM,OAAM,gBAAU,kB,eA3CtH,GACIT,OACI,MAAO,CACHwB,SAAU,KAElB,EACA7B,gBACI8B,KAAKD,SAAWE,aAAY/B,UACxB,MAAMgC,QAAe/B,EAAAA,EAAAA,KAEN,SAAX+B,IAIJF,KAAKG,WAAWC,SAAWC,OAAOH,IAAW,KAC7CI,cAAcN,KAAKD,UACnBC,KAAKO,QAAQb,KAAK,WAAU,GAC7B,IAEP,EACAc,YACIF,cAAcN,KAAKD,SACvB,EACAU,SAAU,CACNN,aACI,OAAOH,KAAKU,OAAOC,MAAMR,UAC7B,EACAS,SACI,OAAOZ,KAAKU,OAAOC,MAAME,QAAQD,QAAU,CAAC,CAChD,I,QC3BR,MAAME,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://sdpo-frontend/./src/helpers/thermometer.js","webpack://sdpo-frontend/./src/pages/steps/Step-4.vue","webpack://sdpo-frontend/./src/pages/steps/Step-4.vue?7383"],"sourcesContent":["import store from \"@/store\";\r\nimport { useToast } from \"vue-toastification\";\r\nconst toast = useToast();\r\n\r\nexport async function getTemp() {\r\n    return await axios.post(`device/thermometer`).then(({ data }) => {            \r\n        return data;\r\n    }).catch(defaultError);\r\n}\r\n\r\nfunction defaultError(error) {\r\n    const data = error.response?.data;\r\n    if (data?.message) {\r\n        toast.error(data.message);\r\n    } else {    \r\n        switch (error?.response?.status) {\r\n            case 400: toast.error('Ошибка авторизации запроса')\r\n            case 500: toast.error('Ошибка сервера')\r\n            default: toast.error('Неизвестная ошибка запроса')\r\n        }\r\n    }\r\n    \r\n    console.log(error);\r\n}","<script>\r\nimport { getTemp } from '@/helpers/thermometer';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            interval: null,\r\n        }\r\n    },\r\n    async mounted() {\r\n        this.interval = setInterval(async () => {\r\n            const result = await getTemp();\r\n\r\n            if (result === 'next') {\r\n                return;\r\n            }\r\n\r\n            this.inspection.t_people = Number(result) || 36.6;\r\n            clearInterval(this.interval);\r\n            this.$router.push('/step/5');\r\n        }, 1000);\r\n       \r\n    },\r\n    unmounted() {\r\n        clearInterval(this.interval);\r\n    },\r\n    computed: {\r\n        inspection() {\r\n            return this.$store.state.inspection;\r\n        },\r\n        system() {\r\n            return this.$store.state.config?.system || {};\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<template>\r\n    <div class=\"step-4__outer\">\r\n        <div class=\"step-4\">\r\n            <h3 class=\"animate__animated animate__fadeInUp\">Измерение температуры тела</h3>\r\n            <img class=\"animate__animated animate__fadeInUp d-1\" src=\"@/assets/images/pirometer.png\">\r\n        </div>\r\n\r\n        <div class=\"step-buttons\">\r\n            <button @click=\"$router.push('/step/3')\" class=\"btn opacity blue\">Назад</button>\r\n            <button @click=\"$router.push('/step/5')\" v-if=\"JSON.parse(system.thermometer_skip)\" class=\"btn\">Продолжить</button>\r\n        </div>\r\n    </div>\r\n</template>","import { render } from \"./Step-4.vue?vue&type=template&id=42474c33\"\nimport script from \"./Step-4.vue?vue&type=script&lang=js\"\nexport * from \"./Step-4.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\ellidey\\\\IdeaProjects\\\\sdpo\\\\src\\\\main\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["toast","useToast","async","getTemp","axios","post","then","data","catch","defaultError","error","response","message","status","console","log","class","_createElementVNode","src","_imports_0","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","onClick","_ctx","push","JSON","parse","$options","thermometer_skip","interval","this","setInterval","result","inspection","t_people","Number","clearInterval","$router","unmounted","computed","$store","state","system","config","__exports__","render"],"sourceRoot":""}