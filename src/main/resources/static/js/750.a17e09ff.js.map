{"version":3,"file":"js/750.a17e09ff.js","mappings":"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","sources":["webpack://sdpo-frontend/./src/helpers/camera.js","webpack://sdpo-frontend/./src/helpers/media.js","webpack://sdpo-frontend/./src/components/common/Loader.vue","webpack://sdpo-frontend/./src/components/common/Loader.vue?f04c","webpack://sdpo-frontend/./src/pages/inspection/Step-result.vue","webpack://sdpo-frontend/./src/components/ResultRepeat.vue","webpack://sdpo-frontend/./src/components/ResultRepeat.vue?3316","webpack://sdpo-frontend/./src/pages/inspection/Step-result.vue?00d1"],"sourcesContent":["import {defaultError} from \"@/helpers/http-errors\";\nimport {startWaitTimerRecordMedia} from \"@/helpers/media\";\nimport store from \"@/store\";\n\nexport async function makePhoto() {\n    return await axios.post(`device/photo`).then(({ data }) => {\n        return data;\n    }).catch(defaultError);\n}\n\nexport async function getSizes() {\n    return await axios.get(`device/video/size`).then(({ data }) => {\n        return data;\n    }).catch(defaultError);\n}\n\n\nexport async function makeMedia(driver_id) {\n    return await axios.post(`device/media`, {\n        driver_id,\n    }).then(({data}) => {\n        return data;\n    }).catch(defaultError);\n}\n\nexport async function stopMedia() {\n    return await axios.post(`device/media/stop`).then(async ({data}) => {\n        store.state.temp.photo = store.state.inspection.photo;\n        store.state.temp.video = store.state.inspection.video;\n        await startWaitTimerRecordMedia()\n        return data;\n    }).catch(defaultError);\n}\n\nexport async function makeVideoTest() {\n    return await axios.post(`device/video/test`).then(({ data }) => {\n        return data;\n    }).catch(defaultError);\n}","import alertPath from \"@/assets/audio/alert.ogg\";\nimport store from \"@/store\";\n\nexport function playAlert() {\n    (new Audio(alertPath)).play();\n}\n\nexport async function startWaitTimerRecordMedia() {\n    await stopWaitTimerRecordMedia();\n    let seconds = 5;\n    store.state.waitRecordMedia = true\n\n    store.state.timerRecordMedia = setInterval(() => {\n        seconds--;\n        console.log('осталось ' + seconds)\n        if (seconds < 1) {\n            stopWaitTimerRecordMedia()\n        }\n    }, 1000);\n}\n\nexport async function stopWaitTimerRecordMedia() {\n    if (store.state.waitRecordMedia) {\n        store.state.waitRecordMedia = false\n        await clearInterval(store.state.timerRecordMedia);\n    }\n\n}","<script>\nexport default {\n  props: {\n    loading: {\n      type: Boolean,\n      default: false,\n    }\n  },\n}\n</script>\n<template>\n  <div v-if=\"loading\" class=\"admin__loading animate__animated animate__fadeInUp\" style=\"z-index: 3\">\n    <div class=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\n    Загрузка\n  </div>\n</template>\n","import { render } from \"./Loader.vue?vue&type=template&id=1380ac7d\"\nimport script from \"./Loader.vue?vue&type=script&lang=js\"\nexport * from \"./Loader.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/baarme/develop/java/sdpo-java/src/main/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\nimport {\n  saveInspection,\n  replayPrint,\n  replayPrintQr, sendVerification, checkVerification, getWishMessage,\n} from '@/helpers/api/api';\nimport ResultRepeat from \"@/components/ResultRepeat\";\nimport Loader from \"@/components/common/Loader\";\nimport {getSettings} from \"@/helpers/settings\";\nimport InputPersonalNumberForm from \"@/components/InputPersonalNumberForm.vue\";\nimport {stopMedia} from \"@/helpers/camera\";\n\nexport default {\n  components: {InputPersonalNumberForm, Loader, ResultRepeat},\n  data() {\n    return {\n      backTimeout: null,\n\n      verified: false,\n      verifyCode: '',\n      verifyPending: false,\n      verification: {},\n\n      result: {},\n      conclusion: {\n        admitted: '',\n        comments: '',\n      },\n      notIdentified: 'Не идентифицирован',\n      loading: false,\n      feedback: null,\n      phrase: '',\n    }\n  },\n  async mounted() {\n    this.$data.loading = true;\n\n    let global = this;\n    let checker = async function () {\n      if (global.$store.state.waitRecordMedia) {\n        setTimeout(checker, 1000);\n      } else {\n        global.loading = false;\n        await global.save();\n        if (global.autoStart) {\n          global.backTimeout = global.setTimeoutAndRedirect();\n        }\n      }\n    }\n    setTimeout(checker, 1000);\n  },\n  unmounted() {\n    clearTimeout(this.backTimeout);\n  },\n  methods: {\n    getSleepStatus(status) {\n      return status === 'Да' ? 'Выспались' : 'Не выспались';\n    },\n    getPeopleStatus(status) {\n      return status === 'Да' ? 'Хорошее' : 'Плохое';\n    },\n    async getWishMessage() {\n      this.phrase = (await getWishMessage()).wish_message ?? null;\n    },\n    async save() {\n      this.result = await saveInspection();\n      console.log(this.result)\n      this.conclusion.admitted = this.result.admitted ?? '';\n      this.conclusion.comments = this.result.comments ?? '';\n    },\n    async replayPrint() {\n      await replayPrint();\n    },\n    async replayPrintQr() {\n      await replayPrintQr();\n    },\n    redirectHome() {\n      if (this.$route.name === 'step-result') {\n        this.$router.push('/');\n      }\n    },\n    redirectRepeat() {\n      if (this.$route.name === 'step-result') {\n        this.$router.push({name: 'step-retry'});\n      }\n    },\n    setTimeoutAndRedirect() {\n      if (this.result.admitted === this.notIdentified) {\n        return setTimeout(this.redirectRepeat, this.system.delay_before_retry_inspection);\n      }\n\n      if (this.verified) {\n        return setTimeout(this.redirectHome, this.system.delay_before_redirect_to_main_page);\n      } else {\n        return setTimeout(this.setTimeoutAndRedirect, 5000);\n      }\n    },\n    updateVerifyCode(input) {\n      this.verifyCode = input;\n      this.checkVerificationCode();\n    },\n    async sendVerify(){\n      this.verifyPending = true;\n      this.verification = await sendVerification(this.inspection.driver_id)\n    },\n    async checkVerificationCode() {\n      if (this.verifyCode.length === 6) {\n        this.verified = await checkVerification(this.verification.id, this.verifyCode);\n        if (this.verified) {\n          this.$store.state.videoRecording = false;\n          await stopMedia();\n          console.log(\"stop media\")\n        }\n      }\n    }\n  },\n  computed: {\n    autoStart() {\n      return this.system.auto_start;\n    },\n    admitted() {\n      return this.result?.admitted === 'Допущен'\n    }\n    ,\n    showRetryModal() {\n      return this.result.admitted === this.notIdentified;\n    }\n    ,\n    getComment() {\n      return this.result.comments ?? '';\n    },\n    inspection() {\n      return this.$store.state.inspection;\n    }\n    ,\n    system() {\n      return this.$store.state.config?.system || {};\n    },\n    driverPhone() {\n      return this.$store.state.driver?.phone || 'Ошибка номера!';\n    },\n    drawReaction() {\n      return this.phrase || \"Хорошего дня!\";\n    },\n    canRetryPrint() {\n      return getSettings('printer_write')\n    },\n    canRetryPrintQR() {\n      return getSettings('print_qr_check')\n    },\n    connection() {\n      return this.$store.state.connection || false;\n    },\n  }\n  ,\n}\n</script>\n\n<template>\n  <loader v-model:loading=\"loading\"/>\n  <result-repeat v-model:visible=\"showRetryModal\"\n                 v-model:message-content=\"getComment\"\n                 @accept=\"redirectRepeat()\"\n  ></result-repeat>\n  <div style=\"display: flex; \">\n    <div v-if=\"!loading\" class=\"step-result\">\n      <div style=\"text-align: center;\">\n        <!--    <div class=\"step-result\">-->\n        <h3 class=\"step-result__header_with_result animate__animated animate__fadeInDown\" v-if=\"verified\">Результаты осмотра:\n          <span class=\"step-result__text animate__animated animate__fadeInUp\">\n                {{ result.admitted || 'ожидание ответа' }}<br>\n            </span>\n        </h3>\n        <h3 class=\"step-result__header_with_result animate__animated animate__fadeInDown\" v-if=\"!verified\">\n          <span class=\"step-result__text animate__animated animate__fadeInUp\">\n                Подписание осмотра<br>\n            </span>\n        </h3>\n        <div class=\"step-result__cards\">\n          <div v-if=\"inspection.hasOwnProperty('tonometer')\" class=\"step-result__card animate__animated animate__fadeInUp d-1\">\n            <span>Давление</span>\n            {{ inspection.hasOwnProperty('tonometer') ? inspection.tonometer : 'Неизвестно' }}\n          </div>\n          <div v-if=\"inspection.hasOwnProperty('pulse')\" class=\"step-result__card animate__animated animate__fadeInUp d-2\">\n            <span>Пульс</span>\n            {{ inspection.hasOwnProperty('pulse') ? inspection.pulse : 'Неизвестно' }}\n          </div>\n          <div v-if=\"inspection.hasOwnProperty('alcometer_result')\" class=\"step-result__card animate__animated animate__fadeInUp d-2\">\n            <span>Количество промилле</span>\n            {{ inspection.hasOwnProperty('alcometer_result') ? inspection.alcometer_result + ' ‰' : 'Неизвестно' }}\n          </div>\n          <div v-if=\"inspection.hasOwnProperty('t_people')\" class=\"step-result__card animate__animated animate__fadeInUp d-2\">\n            <span>Температура тела</span>\n            {{ inspection.hasOwnProperty('t_people') ? inspection.t_people + ' °C' : 'Неизвестно' }}\n          </div>\n          <div v-if=\"inspection.hasOwnProperty('sleep_status')\" class=\"step-result__card animate__animated animate__fadeInUp d-2\">\n            <span>Сонливость</span>\n            {{ inspection.hasOwnProperty('sleep_status') ? getSleepStatus(inspection.sleep_status) : 'Неизвестно' }}\n          </div>\n          <div v-if=\"inspection.hasOwnProperty('people_status')\" class=\"step-result__card animate__animated animate__fadeInUp d-2\">\n            <span>Самочувствие</span>\n            {{ inspection.hasOwnProperty('people_status') ? getPeopleStatus(inspection.people_status) : 'Неизвестно' }}\n          </div>\n        </div>\n      </div>\n      <div class=\"step-result__footer\">\n        <div class=\"step-result__buttons\" v-if=\"verified\">\n          <button @click=\"$router.push('/')\" class=\"btn blue animate__animated animate__fadeInUp\">В начало</button>\n          <button v-if=\"this.admitted && this.canRetryPrint\"\n                  @click=\"replayPrint()\"\n                  class=\"btn opacity animate__animated animate__fadeInUp\">Повтор печати\n          </button>\n          <button v-if=\"connection && this.admitted && this.canRetryPrintQR\"\n                  @click=\"replayPrintQr()\"\n                  class=\"btn opacity animate__animated animate__fadeInUp\">Повтор печати QR\n          </button>\n        </div>\n        <div class=\"step-result__verify\" v-if=\"verifyPending && !verified\">\n          <div class=\"driver-form__input\">\n          <input type=\"number\"\n                 class=\"animate__animated animate__fadeIn d-5\"\n                 v-model=\"verifyCode\"/>\n          </div>\n          <input-personal-number-form\n              style=\"margin-bottom: 10px\"\n              @password=\" (input) => updateVerifyCode(input)\"\n          />\n          SMS для подтверждения отправлено на номер {{ driverPhone }}\n        </div>\n        <div v-if=\"!verifyPending\">\n          <button\n              @click=\"sendVerify\"\n              class=\"btn opacity animate__animated animate__fadeInUp\">\n            Согласен с результатами измерений. Отправить SMS для подтверждения\n          </button>\n        </div>\n      </div>\n    </div>\n    <div v-if=\"!loading\" class=\"madam-t7 animate__fadeInUpBig\">\n      <div class=\"madam-t7-text-box animate__animated animate__fadeInUp\">\n        <div class=\"wish\">\n          <span class=\"animate__fadeInUp\"> {{ drawReaction }}</span>\n        </div>\n        <img width=\"300\" src=\"@/assets/images/madam-t7-say.svg\">\n      </div>\n      <img width=\"300\" height=\"500\" src=\"@/assets/images/madam-t7.svg\">\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.step-result__verify{\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n</style>","<script>\nimport {playAlert} from '@/helpers/media';\n\nexport default {\n  props: {\n    visible: {\n      type: Boolean,\n      require: true\n    },\n    messageContent: {\n      type: String,\n      require: true,\n      default: ''\n    }\n  },\n  methods: {\n    closeModal() {\n      this.$emit('close-modal')\n    },\n    accept() {\n      this.closeModal();\n      this.$emit('accept');\n    },\n  },\n  watch: {\n    visible: function (val) {\n      if (val) playAlert();\n    }\n  },\n}\n</script>\n\n<template>\n  <div v-if=\"visible\"\n       @click=\"closeModal\"\n       class=\"medics__overlay animate__animated animate__fadeIn\">\n  </div>\n  <div v-if=\"visible\" class=\"approval animate__animated animate__fadeInRight\">\n    <div class=\"not-identify__title\">\n      <h3>Не идентифицирован</h3>\n    </div>\n    <div class=\"approval__content\">\n      <div class=\"not-identify__content\">\n        {{ this.messageContent }}\n      </div>\n      <button @click=\"accept\" class=\"btn approval__button-submit animate__animated animate__fadeInUp\">В начало осмотра\n      </button>\n    </div>\n  </div>\n\n</template>","import { render } from \"./ResultRepeat.vue?vue&type=template&id=2ab604ec\"\nimport script from \"./ResultRepeat.vue?vue&type=script&lang=js\"\nexport * from \"./ResultRepeat.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/baarme/develop/java/sdpo-java/src/main/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Step-result.vue?vue&type=template&id=015a8610&scoped=true\"\nimport script from \"./Step-result.vue?vue&type=script&lang=js\"\nexport * from \"./Step-result.vue?vue&type=script&lang=js\"\n\nimport \"./Step-result.vue?vue&type=style&index=0&id=015a8610&scoped=true&lang=scss\"\n\nimport exportComponent from \"/Users/baarme/develop/java/sdpo-java/src/main/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-015a8610\"]])\n\nexport default __exports__"],"names":["async","makePhoto","axios","post","then","data","catch","defaultError","getSizes","get","makeMedia","driver_id","stopMedia","store","startWaitTimerRecordMedia","makeVideoTest","playAlert","Audio","alertPath","play","stopWaitTimerRecordMedia","seconds","setInterval","console","log","clearInterval","class","style","_createElementVNode","$props","loading","_createElementBlock","_hoisted_1","_hoisted_2","props","type","Boolean","default","__exports__","render","_hoisted_8","width","src","_imports_0","height","_imports_1","_createVNode","_component_loader","$data","$event","_component_result_repeat","visible","$options","showRetryModal","getComment","onAccept","_cache","redirectRepeat","_hoisted_3","verified","_hoisted_4","_hoisted_5","result","admitted","_hoisted_6","_hoisted_7","_hoisted_9","_hoisted_10","inspection","hasOwnProperty","_hoisted_11","_hoisted_12","_toDisplayString","tonometer","_hoisted_13","_hoisted_14","pulse","_hoisted_15","_hoisted_16","alcometer_result","_hoisted_17","_hoisted_18","t_people","_hoisted_19","_hoisted_20","getSleepStatus","sleep_status","_hoisted_21","_hoisted_22","getPeopleStatus","people_status","_hoisted_23","_hoisted_24","onClick","_ctx","$router","push","this","canRetryPrint","replayPrint","connection","canRetryPrintQR","replayPrintQr","verifyPending","_hoisted_25","_hoisted_26","verifyCode","_component_input_personal_number_form","onPassword","input","updateVerifyCode","driverPhone","_hoisted_27","args","sendVerify","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","drawReaction","_hoisted_32","_hoisted_33","closeModal","messageContent","accept","require","String","methods","$emit","watch","val","components","InputPersonalNumberForm","Loader","ResultRepeat","backTimeout","verification","conclusion","comments","notIdentified","feedback","phrase","global","checker","$store","state","waitRecordMedia","setTimeout","save","autoStart","setTimeoutAndRedirect","unmounted","clearTimeout","status","getWishMessage","wish_message","saveInspection","redirectHome","$route","name","system","delay_before_retry_inspection","delay_before_redirect_to_main_page","checkVerificationCode","sendVerification","length","checkVerification","id","videoRecording","computed","auto_start","config","driver","phone","getSettings"],"sourceRoot":""}