"use strict";(self["webpackChunksdpo_frontend"]=self["webpackChunksdpo_frontend"]||[]).push([[107],{4107:function(t,i,e){e.r(i),e.d(i,{default:function(){return D}});var n=e(3396),r=e(7139),s=e(9242);const a={class:"driver-form"},o={key:0,class:"driver-form__title animate__animated animate__fadeInDown d-2"},d={key:1,class:"driver-form__title animate__animated animate__fadeInDown d-2"},_={class:"driver-form__input"},c={class:"number-buttons",ref:"numbers"},u=(0,n._)("i",{class:"ri-close-fill"},null,-1),l=[u],m=(0,n._)("i",{class:"ri-delete-back-line"},null,-1),v=[m],b={key:3,class:"driver-form__not-found animate__animated animate__fadeInUp"};function f(t,i,e,u,m,f){return(0,n.wg)(),(0,n.iD)("div",a,[f.inspection.driver_fio?((0,n.wg)(),(0,n.iD)("div",o,(0,r.zw)(f.inspection.driver_fio),1)):((0,n.wg)(),(0,n.iD)("div",d," Введите ваш идентификатор ")),(0,n._)("div",_,[(0,n.wy)((0,n._)("input",{type:"number",class:"animate__animated animate__fadeIn d-5","onUpdate:modelValue":i[0]||(i[0]=t=>m.driver_id=t),onInput:i[1]||(i[1]=(...t)=>f.checkDriver&&f.checkDriver(...t))},null,544),[[s.nr,m.driver_id]])]),(0,n._)("div",c,[(0,n._)("button",{class:"number-buttons__item",onClick:i[2]||(i[2]=t=>m.driver_id+="1")},"1"),(0,n._)("button",{class:"number-buttons__item",onClick:i[3]||(i[3]=t=>m.driver_id+="2")},"2"),(0,n._)("button",{class:"number-buttons__item",onClick:i[4]||(i[4]=t=>m.driver_id+="3")},"3"),(0,n._)("button",{class:"number-buttons__item",onClick:i[5]||(i[5]=t=>m.driver_id+="4")},"4"),(0,n._)("button",{class:"number-buttons__item",onClick:i[6]||(i[6]=t=>m.driver_id+="5")},"5"),(0,n._)("button",{class:"number-buttons__item",onClick:i[7]||(i[7]=t=>m.driver_id+="6")},"6"),(0,n._)("button",{class:"number-buttons__item",onClick:i[8]||(i[8]=t=>m.driver_id+="7")},"7"),(0,n._)("button",{class:"number-buttons__item",onClick:i[9]||(i[9]=t=>m.driver_id+="8")},"8"),(0,n._)("button",{class:"number-buttons__item",onClick:i[10]||(i[10]=t=>m.driver_id+="9")},"9"),(0,n._)("button",{class:"number-buttons__item",onClick:i[11]||(i[11]=t=>m.driver_id="")},l),(0,n._)("button",{class:"number-buttons__item",onClick:i[12]||(i[12]=t=>m.driver_id+="0")},"0"),(0,n._)("button",{class:"number-buttons__item",onClick:i[13]||(i[13]=t=>m.driver_id=m.driver_id.slice(0,-1))},v)],512),f.inspection.driver_id?((0,n.wg)(),(0,n.iD)("button",{key:2,onClick:i[14]||(i[14]=(...t)=>f.start&&f.start(...t)),class:"btn animate__animated animate__fadeInUp"},"начать осмотр")):m.driver_id.length>=6&&!m.loading?((0,n.wg)(),(0,n.iD)("div",b,"Водитель не найден")):(0,n.kq)("",!0)])}e(7658),e(7625);var h=e(4677);const p=(0,h.pm)();async function k(t){return await axios.post(`inspection/${t}`).then((({data:t})=>t?.data?.message)).catch(w)}function w(t){switch(t?.response?.status){case 400:p.error("Ошибка авторизации запроса");default:p.error("Неизвестная ошибка запроса")}}var C={name:"Home",data(){return{driver_id:"",toast:(0,h.pm)(),loading:!1}},methods:{async start(){const t=await k(this.driver_id);if(!t)return this.driver_id="",void this.toast.error("Водитель с указаным ID не найден");this.$store.state.inspection.driver_id=t.hash_id,this.$store.state.inspection.driver_fio=t.fio,this.$router.push("/step/1")},async checkDriver(){if(this.driver_id.length<6)return void(this.$store.state.inspection={});this.loading=!0;const t=await k(this.driver_id);this.loading=!1,t?(this.$store.state.inspection.driver_id=t.hash_id,this.$store.state.inspection.driver_fio=t.fio):this.$store.state.inspection={}}},watch:{driver_id:function(t){this.checkDriver()}},computed:{config(){return this.$store.state.config},inspection(){return this.$store.state.inspection}},mounted(){this.$refs.numbers.querySelectorAll("button").forEach(((t,i)=>{t.classList.add("animate__animated"),t.classList.add("animate__fadeInUp"),t.style.setProperty("animation-delay",.6+.05*i+"s")}))}},g=e(89);const y=(0,g.Z)(C,[["render",f]]);var D=y}}]);
//# sourceMappingURL=107.f3cb8ffc.js.map