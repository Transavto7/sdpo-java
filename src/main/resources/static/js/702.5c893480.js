"use strict";(self["webpackChunksdpo_frontend"]=self["webpackChunksdpo_frontend"]||[]).push([[702],{7557:function(t,n,e){e.d(n,{Z:function(){return h}});var s=e(3396);const r={class:"number-buttons",ref:"numbers"},u=(0,s._)("i",{class:"ri-close-fill"},null,-1),o=[u],i=(0,s._)("i",{class:"ri-delete-back-line"},null,-1),a=[i];function m(t,n,e,u,i,m){return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("button",{class:"number-buttons__item",onClick:n[0]||(n[0]=t=>m.pushIntoNumber("1"))},"1"),(0,s._)("button",{class:"number-buttons__item",onClick:n[1]||(n[1]=t=>m.pushIntoNumber("2"))},"2"),(0,s._)("button",{class:"number-buttons__item",onClick:n[2]||(n[2]=t=>m.pushIntoNumber("3"))},"3"),(0,s._)("button",{class:"number-buttons__item",onClick:n[3]||(n[3]=t=>m.pushIntoNumber("4"))},"4"),(0,s._)("button",{class:"number-buttons__item",onClick:n[4]||(n[4]=t=>m.pushIntoNumber("5"))},"5"),(0,s._)("button",{class:"number-buttons__item",onClick:n[5]||(n[5]=t=>m.pushIntoNumber("6"))},"6"),(0,s._)("button",{class:"number-buttons__item",onClick:n[6]||(n[6]=t=>m.pushIntoNumber("7"))},"7"),(0,s._)("button",{class:"number-buttons__item",onClick:n[7]||(n[7]=t=>m.pushIntoNumber("8"))},"8"),(0,s._)("button",{class:"number-buttons__item",onClick:n[8]||(n[8]=t=>m.pushIntoNumber("9"))},"9"),(0,s._)("button",{class:"number-buttons__item",onClick:n[9]||(n[9]=t=>m.clearPassword())},o),(0,s._)("button",{class:"number-buttons__item",onClick:n[10]||(n[10]=t=>m.pushIntoNumber("0"))},"0"),(0,s._)("button",{class:"number-buttons__item",onClick:n[11]||(n[11]=t=>m.popIntoNumber())},a)],512)}var b={name:"InputNumber",methods:{pushIntoNumber(t){this.$emit("pushIntoNumber",t)},popIntoNumber(){this.$emit("popIntoNumber")},clearPassword(){this.$emit("clearNumber")}},mounted(){this.$refs.numbers.querySelectorAll("button").forEach(((t,n)=>{t.classList.add("animate__animated"),t.classList.add("animate__fadeInUp"),t.style.setProperty("animation-delay",.6+.05*n+"s")}))}},l=e(89);const c=(0,l.Z)(b,[["render",m]]);var h=c},2543:function(t,n,e){e.d(n,{Z:function(){return h}});var s=e(3396),r=e(9242);const u={class:"number-form"},o=(0,s._)("div",{class:"number-form__title animate__animated animate__fadeInDown d-2"}," Введите личный номер телефона ",-1),i={class:"number-form__input"};function a(t,n,e,a,m,b){const l=(0,s.up)("input-number");return(0,s.wg)(),(0,s.iD)("div",u,[o,(0,s._)("div",i,[(0,s.wy)((0,s._)("input",{type:"text",class:"animate__animated animate__fadeIn d-5",style:{"letter-spacing":"4px"},"onUpdate:modelValue":n[0]||(n[0]=t=>m.maskNumber=t)},null,512),[[r.nr,m.maskNumber]])]),(0,s.Wm)(l,{onPushIntoNumber:n[1]||(n[1]=t=>b.pushIntoNumber(t)),onPopIntoNumber:n[2]||(n[2]=()=>b.popIntoNumber()),onClearNumber:n[3]||(n[3]=()=>b.clearNumber())})])}var m=e(7557),b={name:"InputPhoneNumber",components:{InputNumber:m.Z},props:{maskInput:{type:String,default:()=>"+7 ... ... .. .."},placeholder:{type:String,default:()=>"."}},data(){return{originNumber:"",maskNumber:"",mask:this.maskInput}},methods:{pushIntoNumber(t){this.isMaxLengthReached()||0===this.originNumber.length&&"8"===t||(this.originNumber+=t)},popIntoNumber(){this.originNumber=this.originNumber.slice(0,-1)},clearNumber(){this.originNumber=""},countOccurrences(){let t=0;for(let n=0;n<this.mask.length;n++)this.mask.charAt(n)===this.placeholder&&t++;return t},isMaxLengthReached(){return this.originNumber.length===this.countOccurrences()},replaceAt(t,n,e){return t.substr(0,n)+e+t.substr(n+e.length)},setMaskNumber(){let t=this.originNumber,n=this.mask;Array.from(t).forEach((t=>{n=this.replaceAt(n,n.indexOf("."),t)})),this.maskNumber=n.split(".").join(""),this.$emit("acceptOn",this.maskNumber.split(" ").join(""))}},watch:{originNumber:function(){this.setMaskNumber()}},mounted(){this.setMaskNumber()}},l=e(89);const c=(0,l.Z)(b,[["render",a]]);var h=c},5511:function(t,n,e){e.d(n,{Z:function(){return b}});var s=e(3396);const r={key:0,class:"admin__loading animate__animated animate__fadeInUp",style:{"z-index":"3"}},u=(0,s._)("div",{class:"lds-ring"},[(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div")],-1);function o(t,n,e,o,i,a){return e.loading?((0,s.wg)(),(0,s.iD)("div",r,[u,(0,s.Uk)(" Загрузка ")])):(0,s.kq)("",!0)}var i={props:{loading:{type:Boolean,default:!1}}},a=e(89);const m=(0,a.Z)(i,[["render",o]]);var b=m},3702:function(t,n,e){e.r(n),e.d(n,{default:function(){return h}});var s=e(3396);const r={key:0,class:"input-save-phone"};function u(t,n,e,u,o,i){const a=(0,s.up)("loader"),m=(0,s.up)("input-phone-number");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(a,{loading:o.loading,"onUpdate:loading":n[0]||(n[0]=t=>o.loading=t)},null,8,["loading"]),this.loading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",r,[(0,s.Wm)(m,{onAcceptOn:n[1]||(n[1]=t=>i.setPhoneNumber(t))}),i.hasPhone?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:n[2]||(n[2]=t=>i.storePhone()),class:"btn animate__animated animate__fadeInUp"}," Сохранить ")):(0,s.kq)("",!0)]))],64)}e(7658);var o=e(2543),i=e(5511),a=e(6509),m=e(4677),b={name:"InputAndSavePhone",components:{Loader:i.Z,InputPhoneNumber:o.Z},data(){return{phoneNumber:"",toast:(0,m.pm)(),loading:!1}},methods:{setPhoneNumber(t){this.phoneNumber=t},formattingPhoneNumber(){return"+"===this.phoneNumber[0]?this.phoneNumber.slice(1):this.phoneNumber},async storePhone(){this.loading=!0,await(0,a.Ch)(this.formattingPhoneNumber(),this.$store.state.inspection.driver_id),this.loading=!1,this.$router.push({name:"step-driver"})}},computed:{hasPhone(){return 12===this.phoneNumber.length}}},l=e(89);const c=(0,l.Z)(b,[["render",u]]);var h=c}}]);
//# sourceMappingURL=702.5c893480.js.map