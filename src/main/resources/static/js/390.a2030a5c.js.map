{"version":3,"file":"js/390.a2030a5c.js","mappings":"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","sources":["webpack://sdpo-frontend/./src/pages/Home.vue","webpack://sdpo-frontend/./src/components/MedicSelect.vue","webpack://sdpo-frontend/./src/components/MedicSelect.vue?5be2","webpack://sdpo-frontend/./src/pages/Home.vue?b9ed"],"sourcesContent":["<script>\nimport { getDriver } from '../helpers/api';\nimport { useToast } from \"vue-toastification\";\nimport MedicSelect from '@/components/MedicSelect.vue';\n\nexport default {\n   name: 'Home',\n   components: { MedicSelect },\n   data() {\n    return {\n        driver_id: '',\n        toast: useToast(),\n        loading: false,\n    }\n   },\n   methods: {\n    async start() {\n        const driver = await getDriver(this.driver_id);\n        if (!driver) {\n            this.driver_id = '';\n            this.toast.error('Водитель с указаным ID не найден');\n            return;\n        }\n\n        this.$store.state.inspection.driver_id = driver.hash_id;\n        this.$store.state.inspection.driver_fio = driver.fio;\n\n        this.$router.push('/step/1');\n    },\n    async checkDriver() {\n        if (this.driver_id.length < 6) {\n            this.$store.state.inspection = {};\n            return;\n        }\n\n        this.loading = true;\n        const driver = await getDriver(this.driver_id);\n        this.loading = false;\n        if (!driver) {\n            this.$store.state.inspection = {};\n            return;\n        }\n\n        this.$store.state.inspection.driver_id = driver.hash_id;\n        this.$store.state.inspection.driver_fio = driver.fio;\n    }\n   },\n   watch: {\n        driver_id: function (val) {\n            this.checkDriver();\n        }\n   },\n   computed: {\n    config() {\n        return this.$store.state.config;\n    },\n    inspection() {\n        return this.$store.state.inspection;\n    }\n   },\n   mounted() {\n    this.$refs.numbers.querySelectorAll('button').forEach((button, index) => {\n        button.classList.add('animate__animated');\n        button.classList.add('animate__fadeInUp');\n        button.style.setProperty('animation-delay', `${0.6 + (0.05 * index)}s`);\n    });\n   }\n}\n</script>\n\n<template>\n    <medic-select />\n    <div class=\"home\">\n        <div class=\"driver-form\">\n            <div v-if=\"inspection.driver_fio\" class=\"driver-form__title animate__animated animate__fadeInDown d-2\">\n                {{ inspection.driver_fio }}\n            </div>\n            <div v-else class=\"driver-form__title animate__animated animate__fadeInDown d-2\">\n                Введите ваш идентификатор\n            </div>\n            <div class=\"driver-form__input\">\n                <input type=\"number\" class=\"animate__animated animate__fadeIn d-5\" v-model=\"driver_id\" @input=\"checkDriver\" />\n            </div>\n\n            <div class=\"number-buttons\" ref=\"numbers\">\n                <button class=\"number-buttons__item\" @click=\"driver_id += '1'\">1</button>\n                <button class=\"number-buttons__item\" @click=\"driver_id += '2'\">2</button>\n                <button class=\"number-buttons__item\" @click=\"driver_id += '3'\">3</button>\n                <button class=\"number-buttons__item\" @click=\"driver_id += '4'\">4</button>\n                <button class=\"number-buttons__item\" @click=\"driver_id += '5'\">5</button>\n                <button class=\"number-buttons__item\" @click=\"driver_id += '6'\">6</button>\n                <button class=\"number-buttons__item\" @click=\"driver_id += '7'\">7</button>\n                <button class=\"number-buttons__item\" @click=\"driver_id += '8'\">8</button>\n                <button class=\"number-buttons__item\" @click=\"driver_id += '9'\">9</button>\n                <button class=\"number-buttons__item\" @click=\"driver_id = ''\"><i class=\"ri-close-fill\"></i></button>\n                <button class=\"number-buttons__item\" @click=\"driver_id += '0'\">0</button>\n                <button class=\"number-buttons__item\" @click=\"driver_id = driver_id.slice(0, -1)\"><i class=\"ri-delete-back-line\"></i></button>\n            </div>\n            <button v-if=\"inspection.driver_id\" @click=\"start\" class=\"btn animate__animated animate__fadeInUp\">начать осмотр</button>\n            <div v-else-if=\"driver_id.length >= 6 && !loading\" class=\"driver-form__not-found animate__animated animate__fadeInUp\">Водитель не найден</div>\n        </div>\n    </div>\n</template>","<script>\nimport { getMedics, saveMedic } from '@/helpers/api';\n\nexport default {\n    data() {\n        return {\n            medics: {},\n            status: \"login\",\n            password: '',\n        }\n    },\n    async mounted() {\n        this.medics = await getMedics();\n    },\n    methods: {\n        login() {\n            if (this.password !== this.config?.medic_password) {\n                return;\n            }\n            \n            this.password = '';\n            this.status = 'select';\n        },\n        async select(user) {\n            this.$store.state.config.main.selected_medic = {\n                name: user.name,\n                id: user.id,\n            }\n            \n            this.status = 'login';\n            await saveMedic(this.medic);\n        }\n    },\n    computed: {\n        medic() {\n            return this.$store.state.config?.main?.selected_medic || {};\n        },\n        config() {\n            return this.$store.state.config?.main;\n        },\n        visible() {\n            return this.$store.state.selectingMedic;\n        }\n    },\n    watch: {\n        password: function (val) {\n            this.login();\n        }\n   },\n}\n</script>\n\n<template>\n    <div v-if=\"visible\" \n        @click=\"$store.state.selectingMedic = false\" \n        class=\"medics__overlay animate__animated animate__fadeIn\">\n    </div>\n\n    <div v-if=\"visible\" class=\"medics animate__animated animate__fadeInRight\">\n        <div v-if=\"status === 'login'\" class=\"medics__form\">\n            <div class=\"login-form__title\">\n                Введите пароль\n            </div>\n\n            <div class=\"login-form__input\">\n                <input type=\"password\" v-model=\"password\" />\n            </div>\n\n            <div class=\"number-buttons\" ref=\"numbers\">\n                <button class=\"number-buttons__item\" @click=\"password += '1'\">1</button>\n                <button class=\"number-buttons__item\" @click=\"password += '2'\">2</button>\n                <button class=\"number-buttons__item\" @click=\"password += '3'\">3</button>\n                <button class=\"number-buttons__item\" @click=\"password += '4'\">4</button>\n                <button class=\"number-buttons__item\" @click=\"password += '5'\">5</button>\n                <button class=\"number-buttons__item\" @click=\"password += '6'\">6</button>\n                <button class=\"number-buttons__item\" @click=\"password += '7'\">7</button>\n                <button class=\"number-buttons__item\" @click=\"password += '8'\">8</button>\n                <button class=\"number-buttons__item\" @click=\"password += '9'\">9</button>\n                <button class=\"number-buttons__item\" @click=\"password = ''\"><i class=\"ri-close-fill\"></i></button>\n                <button class=\"number-buttons__item\" @click=\"password += '0'\">0</button>\n                <button class=\"number-buttons__item\" @click=\"password = password.slice(0, -1)\"><i class=\"ri-delete-back-line\"></i></button>\n            </div>\n\n            <div class=\"medics__form-selected\">\n               {{ medic.name || 'Сотрудник не выбран' }}\n            </div>\n        </div>\n\n        <div v-else class=\"medics__select\">\n            <div v-for=\"(town, name) in medics\" :key=\"name\">\n                <div v-if=\"name\" class=\"medics__town\">\n                    {{ name }}\n                </div>\n                <div v-if=\"name\" v-for=\"(point, name) in town\" :key=\"name\">\n                    <div class=\"medics__point\">\n                        {{ name }}\n                    </div>\n\n                    <button v-for=\"user in point\" :key=\"user.id\" class=\"medics__item\" @click=\"select(user)\">\n                        {{ user.name }}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>","import { render } from \"./MedicSelect.vue?vue&type=template&id=6484df83\"\nimport script from \"./MedicSelect.vue?vue&type=script&lang=js\"\nexport * from \"./MedicSelect.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/ellidey/web/sdpo/src/main/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Home.vue?vue&type=template&id=7d5fd088\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/ellidey/web/sdpo/src/main/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","ref","_createElementVNode","_hoisted_7","_hoisted_9","_createVNode","_component_medic_select","_hoisted_1","_hoisted_2","$options","driver_fio","_createElementBlock","_hoisted_3","_hoisted_4","_hoisted_5","type","$data","onInput","_hoisted_6","onClick","slice","driver_id","length","_hoisted_11","_hoisted_8","_ctx","state","selectingMedic","_hoisted_10","name","_Fragment","town","key","_hoisted_12","point","_hoisted_13","user","id","data","medics","status","password","async","this","getMedics","methods","login","config","medic_password","$store","main","selected_medic","saveMedic","medic","computed","visible","watch","val","__exports__","components","MedicSelect","toast","useToast","loading","driver","getDriver","error","inspection","hash_id","fio","$router","push","checkDriver","mounted","$refs","numbers","querySelectorAll","forEach","button","index","classList","add","style","setProperty","render"],"sourceRoot":""}