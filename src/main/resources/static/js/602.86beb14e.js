"use strict";(self["webpackChunksdpo_frontend"]=self["webpackChunksdpo_frontend"]||[]).push([[602],{1602:function(t,e,s){s.r(e),s.d(e,{default:function(){return h}});s(7658);var n=s(3396),A="data:image/png;base64,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";const r={class:"step-alcometer__outer"},o=(0,n.uE)('<div class="step-alcometer"><h3 class="animate__animated animate__fadeInDown">Количественное определение алкоголя</h3><div class="step-alcometer__items"><div class="step-alcometer__item animate__animated animate__fadeInUp d-1"><span style="min-height:30px;">3</span><img style="padding-right:20px;" width="80" src="'+A+'"> Установите мундштук </div><div class="step-alcometer__text animate__animated animate__fadeInUp d-2"> Установите индивидуальный мундштук<br><br> Дождитесь ГОТОВ на экране алкометра<br><br> Начните дуть с умеренной силой до<br> окончания звукового сигнала.<br><br> Снимите индивидуальный мундштук<br><br></div></div></div>',1),a={class:"step-buttons"};function i(t,e,s,A,i,c){return(0,n.wg)(),(0,n.iD)("div",r,[o,(0,n._)("div",a,[(0,n._)("button",{onClick:e[0]||(e[0]=t=>c.prevStep()),class:"btn opacity blue"},"Назад"),(0,n._)("button",{onClick:e[1]||(e[1]=e=>t.$router.push({name:"step-sleep"})),class:"btn"},"Продолжить")])])}var c=s(6700),d={data(){return{interval:null,seconds:5,needRetry:!1,showRetry:!1,statusAlcometer:"",statusPrev:"prev",statusNow:"now",recording:!1}},methods:{connect(){this.connection=new WebSocket("ws://localhost:8080/device/alcometer/status"),this.connection.onmessage=async t=>{this.statusPrev=this.statusNow,this.statusNow=t.data},this.connection.onopen=t=>{console.log("Successfully connected to the echo websocket server...")},this.connection.error=t=>{console.log(t)}},async disconnect(){console.log("Disconnect websoket server"),await(0,c.F3)()},nextStep(){this.$router.push({name:"step-sleep"})},async prevStep(){this.$router.push({name:"step-thermometer"})},hasResult(t){return!(void 0===t||null===t||"next"===t)},runCountdown(){this.seconds=5,this.timerInterval=setInterval((()=>{this.seconds--,this.seconds<1&&clearInterval(this.timerInterval)}),1e3)}},async mounted(){await(0,c.bP)(),await(0,c._L)(),this.connect(),this.runCountdown(),this.requestInterval=setInterval((async()=>{const t=await(0,c.pe)();this.hasResult(t)&&(this.inspection.alcometer_result=Number(t)||0,this.inspection.alcometer_mode="1",this.nextStep())}),700)},unmounted(){this.disconnect(),clearInterval(this.requestInterval),clearInterval(this.timerInterval)},computed:{inspection(){return this.$store.state.inspection},identifier(){return this.$store.state.inspection.driver_id||this.$store.state.inspection.person_id},system(){return this.$store.state.config?.system||{}}}},u=s(89);const l=(0,u.Z)(d,[["render",i]]);var h=l}}]);
//# sourceMappingURL=602.86beb14e.js.map