{"version":3,"file":"js/726.30f4b7b1.js","mappings":"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","sources":["webpack://sdpo-frontend/./src/helpers/media.js","webpack://sdpo-frontend/./src/components/common/Loader.vue","webpack://sdpo-frontend/./src/components/common/Loader.vue?f04c","webpack://sdpo-frontend/./src/pages/inspection/Step-result.vue","webpack://sdpo-frontend/./src/components/ResultRepeat.vue","webpack://sdpo-frontend/./src/components/ResultRepeat.vue?3316","webpack://sdpo-frontend/./src/pages/inspection/Step-result.vue?00d1"],"sourcesContent":["import alertPath from \"@/assets/audio/alert.ogg\";\r\nimport store from \"@/store\";\r\n\r\nexport function playAlert() {\r\n    (new Audio(alertPath)).play();\r\n}\r\n\r\nexport function startWaitTimerRecordMedia() {\r\n    let seconds = 15;\r\n    store.state.waitRecordMedia = true\r\n    let timerInterval = setInterval(() => {\r\n        seconds--;\r\n        console.log('осталось ' + seconds)\r\n        if (seconds < 1) {\r\n            store.state.waitRecordMedia = false\r\n            clearInterval(timerInterval);\r\n        }\r\n    }, 1000);\r\n}","<script>\r\nexport default {\r\n  props: {\r\n    loading: {\r\n      type: Boolean,\r\n      default: false,\r\n    }\r\n  },\r\n}\r\n</script>\r\n<template>\r\n  <div v-if=\"loading\" class=\"admin__loading animate__animated animate__fadeInUp\" style=\"z-index: 3\">\r\n    <div class=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\r\n    Загрузка\r\n  </div>\r\n</template>\r\n","import { render } from \"./Loader.vue?vue&type=template&id=1380ac7d\"\nimport script from \"./Loader.vue?vue&type=script&lang=js\"\nexport * from \"./Loader.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\sdpo\\\\sdpo-java-main\\\\sdpo-java-main\\\\src\\\\main\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\r\nimport {saveInspection, replayPrint} from '@/helpers/api';\r\nimport ResultRepeat from \"@/components/ResultRepeat\";\r\nimport Loader from \"@/components/common/Loader\";\r\n\r\nexport default {\r\n  components: {Loader, ResultRepeat},\r\n  data() {\r\n    return {\r\n      backTimeout: null,\r\n      result: {},\r\n      conclusion: {\r\n        admitted: '',\r\n        comments: '',\r\n      },\r\n      notIdentified: 'Не идентифицирован',\r\n      loading: false\r\n    }\r\n  },\r\n  async mounted() {\r\n    this.$data.loading = true;\r\n    // if (this.$store.state.waitRecordMedia) {\r\n      let thisVar = this;\r\n      let checker = async function () {\r\n        if (thisVar.$store.state.waitRecordMedia) {\r\n          setTimeout(checker, 1000);\r\n        } else {\r\n          thisVar.loading = false;\r\n          await thisVar.save();\r\n          if (thisVar.autoStart) {\r\n            thisVar.backTimeout = thisVar.setTimeoutAndRedirect();\r\n          }\r\n        }\r\n      }\r\n      setTimeout(checker, 1000);\r\n    // }\r\n  },\r\n  unmounted() {\r\n    clearTimeout(this.backTimeout);\r\n  },\r\n  methods: {\r\n    getSleepStatus(status) {\r\n      return status === 'Да' ? 'Выспались' : 'Не выспались';\r\n    },\r\n    getPeopleStatus(status) {\r\n      return status === 'Да' ? 'Хорошее' : 'Плохое';\r\n    },\r\n    async save() {\r\n      this.result = await saveInspection();\r\n      this.conclusion.admitted = this.result.admitted ?? '';\r\n      this.conclusion.comments = this.result.comments ?? '';\r\n    },\r\n    async replayPrint() {\r\n      await replayPrint();\r\n    },\r\n    redirectHome() {\r\n      if (this.$route.name === 'step-result') {\r\n        this.$router.push('/');\r\n      }\r\n    },\r\n    redirectRepeat() {\r\n      if (this.$route.name === 'step-result') {\r\n        this.$router.push({name: 'step-retry'});\r\n      }\r\n    },\r\n    setTimeoutAndRedirect() {\r\n      if (this.result.admitted === this.notIdentified) {\r\n        return setTimeout(this.redirectRepeat, this.system.delay_before_retry_inspection);\r\n      }\r\n      return setTimeout(this.redirectHome, 5000);\r\n    },\r\n  }\r\n  ,\r\n  computed: {\r\n    autoStart() {\r\n      return this.system.auto_start;\r\n    }\r\n    ,\r\n    showRetryModal() {\r\n      return this.result.admitted === this.notIdentified;\r\n    }\r\n    ,\r\n    getComment() {\r\n      return this.result.comments ?? '';\r\n    }\r\n    ,\r\n    inspection() {\r\n      return this.$store.state.inspection;\r\n    }\r\n    ,\r\n    system() {\r\n      return this.$store.state.config?.system || {};\r\n    }\r\n  }\r\n  ,\r\n}\r\n</script>\r\n\r\n<template>\r\n  <loader v-model:loading=\"loading\"/>\r\n  <result-repeat v-model:visible=\"showRetryModal\"\r\n                 v-model:message-content=\"getComment\"\r\n                 @accept=\"redirectRepeat()\"\r\n  ></result-repeat>\r\n  <div v-if=\"!loading\" class=\"step-result\">\r\n    <h3 class=\"animate__animated animate__fadeInDown\">Результаты осмотра</h3>\r\n    <div class=\"step-result__cards\">\r\n      <div v-if=\"system.tonometer_visible\" class=\"step-result__card animate__animated animate__fadeInUp d-1\">\r\n        <span>Давление</span>\r\n        {{ inspection.hasOwnProperty('tonometer') ? inspection.tonometer : 'Неизвестно' }}\r\n      </div>\r\n      <div v-if=\"system.tonometer_visible\" class=\"step-result__card animate__animated animate__fadeInUp d-2\">\r\n        <span>Пульс</span>\r\n        {{ inspection.hasOwnProperty('pulse') ? inspection.pulse : 'Неизвестно' }}\r\n      </div>\r\n      <div v-if=\"system.alcometer_visible\" class=\"step-result__card animate__animated animate__fadeInUp d-2\">\r\n        <span>Количество промилле</span>\r\n        {{ inspection.hasOwnProperty('alcometer_result') ? inspection.alcometer_result + ' ‰' : 'Неизвестно' }}\r\n      </div>\r\n      <div v-if=\"system.thermometer_visible\" class=\"step-result__card animate__animated animate__fadeInUp d-2\">\r\n        <span>Температура тела</span>\r\n        {{ inspection.hasOwnProperty('t_people') ? inspection.t_people + ' °C' : 'Неизвестно' }}\r\n      </div>\r\n      <div v-if=\"system.question_sleep\" class=\"step-result__card animate__animated animate__fadeInUp d-2\">\r\n        <span>Сонливость</span>\r\n        {{ inspection.hasOwnProperty('sleep_status') ? getSleepStatus(inspection.sleep_status) : 'Неизвестно' }}\r\n      </div>\r\n      <div v-if=\"system.question_helth\" class=\"step-result__card animate__animated animate__fadeInUp d-2\">\r\n        <span>Самочувствие</span>\r\n        {{ inspection.hasOwnProperty('people_status') ? getPeopleStatus(inspection.people_status) : 'Неизвестно' }}\r\n      </div>\r\n    </div>\r\n    <div class=\"step-result__footer\">\r\n            <span class=\"step-result__text animate__animated animate__fadeInUp\">\r\n                {{ result.admitted || 'ожидание ответа' }}<br>\r\n                <p v-if=\"result.admitted === 'Допущен'\"\r\n                   class=\"animate__animated animate__fadeInUp\">\r\n                        Счастливого пути!\r\n                </p>\r\n            </span>\r\n      <div class=\"step-result__buttons\">\r\n        <button @click=\"$router.push('/')\" class=\"btn blue animate__animated animate__fadeInUp\">В начало</button>\r\n        <button v-if=\"result?.admitted === 'Допущен'\"\r\n                @click=\"replayPrint()\"\r\n                class=\"btn opacity animate__animated animate__fadeInUp\">Повтор печати\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>","<script>\r\nimport {playAlert} from '@/helpers/media';\r\n\r\nexport default {\r\n  props: {\r\n    visible: {\r\n      type: Boolean,\r\n      require: true\r\n    },\r\n    messageContent: {\r\n      type: String,\r\n      require: true,\r\n      default: ''\r\n    }\r\n  },\r\n  methods: {\r\n    closeModal() {\r\n      this.$emit('close-modal')\r\n    },\r\n    accept() {\r\n      this.closeModal();\r\n      this.$emit('accept');\r\n    },\r\n  },\r\n  watch: {\r\n    visible: function (val) {\r\n      if (val) playAlert();\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div v-if=\"visible\"\r\n       @click=\"closeModal\"\r\n       class=\"medics__overlay animate__animated animate__fadeIn\">\r\n  </div>\r\n  <div v-if=\"visible\" class=\"approval animate__animated animate__fadeInRight\">\r\n    <div class=\"not-identify__title\">\r\n      <h3>Не идентифицирован</h3>\r\n    </div>\r\n    <div class=\"approval__content\">\r\n      <div class=\"not-identify__content\">\r\n        {{ this.messageContent }}\r\n      </div>\r\n      <button @click=\"accept\" class=\"btn approval__button-submit animate__animated animate__fadeInUp\">В начало осмотра\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n</template>","import { render } from \"./ResultRepeat.vue?vue&type=template&id=2ab604ec\"\nimport script from \"./ResultRepeat.vue?vue&type=script&lang=js\"\nexport * from \"./ResultRepeat.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\sdpo\\\\sdpo-java-main\\\\sdpo-java-main\\\\src\\\\main\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Step-result.vue?vue&type=template&id=95715954\"\nimport script from \"./Step-result.vue?vue&type=script&lang=js\"\nexport * from \"./Step-result.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\sdpo\\\\sdpo-java-main\\\\sdpo-java-main\\\\src\\\\main\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["playAlert","Audio","alertPath","play","startWaitTimerRecordMedia","seconds","store","timerInterval","setInterval","console","log","clearInterval","class","style","_createElementVNode","$props","loading","_createElementBlock","_hoisted_1","_hoisted_2","props","type","Boolean","default","__exports__","render","_createVNode","_component_loader","$data","$event","_component_result_repeat","visible","$options","showRetryModal","getComment","onAccept","_cache","redirectRepeat","_hoisted_3","system","tonometer_visible","_hoisted_4","_hoisted_5","_toDisplayString","inspection","hasOwnProperty","tonometer","_hoisted_6","_hoisted_7","pulse","alcometer_visible","_hoisted_8","_hoisted_9","alcometer_result","thermometer_visible","_hoisted_10","_hoisted_11","t_people","question_sleep","_hoisted_12","_hoisted_13","getSleepStatus","sleep_status","question_helth","_hoisted_14","_hoisted_15","getPeopleStatus","people_status","_hoisted_16","_hoisted_17","result","admitted","_hoisted_18","_hoisted_19","_hoisted_20","onClick","_ctx","$router","push","replayPrint","args","closeModal","messageContent","accept","require","String","methods","this","$emit","watch","val","components","Loader","ResultRepeat","data","backTimeout","conclusion","comments","notIdentified","async","thisVar","checker","$store","state","waitRecordMedia","setTimeout","save","autoStart","setTimeoutAndRedirect","unmounted","clearTimeout","status","saveInspection","redirectHome","$route","name","delay_before_retry_inspection","computed","auto_start","config"],"sourceRoot":""}