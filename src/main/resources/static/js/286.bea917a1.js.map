{"version":3,"file":"js/286.bea917a1.js","mappings":"gPAEOA,eAAeC,IAClB,aAAaC,MAAMC,KAAM,oBAAmBC,MAAK,EAAGC,UACzCA,IACRC,MAAMC,EAAAA,EACb,CAEOP,eAAeQ,IAClB,aAAaN,MAAMC,KAAM,4BAA2BC,MAAK,EAAGC,UACjDA,IACRC,MAAMC,EAAAA,EACb,CAEOP,eAAeS,EAAcC,EAAS,WACzC,aAAaR,MAAMC,KAAK,2BAA4B,CAChDO,WACDN,MAAK,EAAGC,UACAA,IACRC,MAAMC,EAAAA,EACb,CAEOP,eAAeW,IAClB,aAAaT,MAAMC,KAAM,eAAcC,MAAK,EAAGC,UACpCA,IACRC,OAAOM,IACNC,QAAQC,IAAIF,EAAM,GAE1B,C,mGCsBSG,MAAM,iB,01BA4BFA,MAAM,gB,0CA5BfC,EAAAA,EAAAA,IAgCM,MAhCNC,EAgCM,CA/BFC,GA2BAC,EAAAA,EAAAA,GAGM,MAHNC,EAGM,EAFFD,EAAAA,EAAAA,GAA4F,UAAnFE,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAC,QAAQC,KAAK,CAADC,KAAA,eAAyBZ,MAAM,oBAAmB,SACZa,KAAKC,MAAMC,EAAAC,OAAOC,kBAAc,WAAlGhB,EAAAA,EAAAA,IAAoI,U,MAA3HK,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAC,QAAQC,KAAK,CAADC,KAAA,sBAAyEZ,MAAM,OAAM,gBAAU,kB,eA5EvI,GACIV,OACI,MAAO,CACH4B,SAAU,KAElB,EACAjC,gBACIkC,KAAKD,SAAWE,aAAYnC,UACxB,MAAMoC,QAAenC,EAAAA,EAAAA,WAENoC,IAAXD,GAAmC,OAAXA,GAIb,SAAXA,IAIAA,GAAQE,QACZJ,KAAKK,WAAWD,MAAQF,EAAOE,QAG3BF,GAAQI,UAAYJ,GAAQK,aAC5BP,KAAKK,WAAWG,UAAYN,EAAOI,SAAW,IAAMJ,EAAOK,WAG/DE,cAAcT,KAAKD,UACnBC,KAAKT,QAAQC,KAAK,CAAEC,KAAM,qBAAqB,GAChD,IACP,EACAiB,YACID,cAAcT,KAAKD,WACnBzB,EAAAA,EAAAA,KACJ,EACAqC,SAAU,CACNN,aACI,OAAOL,KAAKY,OAAOC,MAAMR,UAC7B,EACAR,SACI,OAAOG,KAAKY,OAAOC,MAAMC,QAAQjB,QAAU,CAAC,CAChD,I,QCvCR,MAAMkB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://sdpo-frontend/./src/helpers/tonometer.js","webpack://sdpo-frontend/./src/pages/inspection/Step-tonometer.vue","webpack://sdpo-frontend/./src/pages/inspection/Step-tonometer.vue?61b0"],"sourcesContent":["import {defaultError} from \"@/helpers/http-errors\";\n\nexport async function getPressure() {\n    return await axios.post(`device/tonometer`).then(({ data }) => {            \n        return data;\n    }).catch(defaultError);\n}\n\nexport async function disableTonometer() {\n    return await axios.post(`device/tonometer/disable`).then(({ data }) => {            \n        return data;\n    }).catch(defaultError);\n}\n\nexport async function setConnection(status = 'connect') {\n    return await axios.post('device/tonometer/connect', {\n        status, \n    }).then(({ data }) => {            \n        return data;\n    }).catch(defaultError);\n}\n\nexport async function checkDevices() {\n    return await axios.post(`device/scan`).then(({ data }) => {\n        return data;\n    }).catch((error) => {\n        console.log(error);\n    });\n}","<script>\nimport { getPressure } from '@/helpers/tonometer';\nimport { disableTonometer } from '@/helpers/tonometer';\n\nexport default {\n    data() {\n        return {\n            interval: null,\n        }\n    },\n    async mounted() {\n        this.interval = setInterval(async () => {\n            const result = await getPressure();\n\n            if (result === undefined || result === null) {\n                return;\n            }\n\n            if (result === 'next') {\n                return;\n            }\n\n            if (result?.pulse) {\n            this.inspection.pulse = result.pulse;\n            }\n            \n            if (result?.systolic || result?.diastolic) {\n                this.inspection.tonometer = result.systolic + '/' + result.diastolic;\n            }\n\n            clearInterval(this.interval);\n            this.$router.push({ name: 'step-thermometer' });\n        }, 1000);\n    },\n    unmounted() {\n        clearInterval(this.interval);\n        disableTonometer();\n    },\n    computed: {\n        inspection() {\n            return this.$store.state.inspection;\n        },\n        system() {\n            return this.$store.state.config?.system || {};\n        }\n    }\n}\n</script>\n\n<template>\n    <div class=\"step-3__outer\">\n        <div class=\"step-3\">\n            <h3 class=\"animate__animated animate__fadeInDown\">Измерение артериального давления</h3>\n            <div class=\"step-3__items\">\n                <div class=\"step-3__item animate__animated animate__fadeInDown d-1\">\n                    <span>1</span>\n                    Закрепите манжету тонометра на левом плече на 2-3 см выше сгиба локтя\n                </div>\n                <div class=\"step-3__item animate__animated animate__fadeInDown d-2\">\n                    <span>2</span>\n                    Положите руку на стол\n                </div>\n                <div class=\"step-3__item animate__animated animate__fadeInDown d-3\">\n                    <span>3</span>\n                    Убедитесь, что манжета находится на уровне сердца\n                </div>\n                <div class=\"step-3__item animate__animated animate__fadeInDown d-4\">\n                    <span>4</span>\n                    Нажмите кнопку СТАРТ на тонометре\n                </div>\n            </div>\n\n            <div class=\"step-3__subtext animate__animated animate__fadeInDown d-5\">\n                Не двигайтесь, пока идет измерение.<br>\n                После окончания измерения снимите манжету\n            </div>\n        </div>\n\n        <div class=\"step-buttons\">\n            <button @click=\"$router.push({ name: 'step-ride' })\" class=\"btn opacity blue\">Назад</button>\n            <button @click=\"$router.push({ name: 'step-thermometer' })\" v-if=\"JSON.parse(system.tonometer_skip)\" class=\"btn\">Продолжить</button>\n        </div>\n    </div>\n</template>","import { render } from \"./Step-tonometer.vue?vue&type=template&id=22391a5d\"\nimport script from \"./Step-tonometer.vue?vue&type=script&lang=js\"\nexport * from \"./Step-tonometer.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/g55060-420/develop/java/sdpo-java/src/main/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["async","getPressure","axios","post","then","data","catch","defaultError","disableTonometer","setConnection","status","checkDevices","error","console","log","class","_createElementBlock","_hoisted_1","_hoisted_2","_createElementVNode","_hoisted_3","onClick","_cache","$event","_ctx","$router","push","name","JSON","parse","$options","system","tonometer_skip","interval","this","setInterval","result","undefined","pulse","inspection","systolic","diastolic","tonometer","clearInterval","unmounted","computed","$store","state","config","__exports__","render"],"sourceRoot":""}