(function(){"use strict";var e={4457:function(e,t,n){n.d(t,{hR:function(){return a},ri:function(){return s},vW:function(){return o}});var i=n(7625),r=n(4311);async function s(){await r.Z.post("/setting/load").then((({data:e})=>{i.Z.state.config=e})).catch((e=>{console.log(e)}))}async function o(e){await r.Z.post("/setting/password",{password:e}).catch((e=>{console.log(e)}))}async function a(e){await r.Z.post("/setting/system",{system:e}).catch((e=>{console.log(e)}))}},466:function(e,t,n){n(7658);var i=n(9242),r=n(3396);function s(e,t,n,s,o,a){const u=(0,r.up)("navigation"),c=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(u),(0,r.Wm)(i.uT,{name:"fade"},{default:(0,r.w5)((()=>[(0,r.Wm)(c)])),_:1})],64)}var o=n(7139),a=n.p+"img/logo.957d00d6.png";const u={class:"nav"},c=(0,r._)("div",{class:"nav__logo animate__animated animate__fadeInDown"},[(0,r._)("img",{src:a,alt:""})],-1),l={key:0,class:"nav__info animate__animated animate__fadeInDown"},p={key:1,class:"nav__buttons"},m={key:2,class:"nav__buttons"},d={key:3,class:"nav__buttons"},f=(0,r._)("button",{class:"btn opacity animate__animated animate__fadeInDown"},"Мед работник",-1),_=(0,r._)("i",{class:"ri-tools-fill"},null,-1),v=[_],h={key:0,class:"step-progress animate__animated animate__fadeInDown"},b=(0,r._)("i",{class:"ri-check-fill"},null,-1),g=[b],y=(0,r._)("i",{class:"ri-check-fill"},null,-1),w=[y],k=(0,r._)("i",{class:"ri-check-fill"},null,-1),O=[k],D=(0,r._)("i",{class:"ri-check-fill"},null,-1),N=[D],C=(0,r._)("i",{class:"ri-check-fill"},null,-1),Z=[C],q=(0,r._)("i",{class:"ri-check-fill"},null,-1),x=[q],S=(0,r._)("i",{class:"ri-check-fill"},null,-1),j=[S],E=(0,r._)("i",{class:"ri-check-fill"},null,-1),I=[E];function P(e,t,n,i,s,a){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",u,[c,a.currentRouter.includes("/step/")?((0,r.wg)(),(0,r.iD)("div",l,[(0,r.Uk)((0,o.zw)(a.inspection.driver_fio)+" ",1),(0,r._)("span",null,(0,o.zw)(a.inspection.driver_id),1)])):(0,r.kq)("",!0),["/help","/login"].includes(a.currentRouter)||a.currentRouter.includes("/step/")?((0,r.wg)(),(0,r.iD)("div",p,[(0,r._)("button",{onClick:t[0]||(t[0]=t=>e.$router.push("/")),class:"btn opacity blue animate__animated animate__fadeInDown d-1"},"В начало")])):a.currentRouter.includes("/admin")?((0,r.wg)(),(0,r.iD)("div",m,[(0,r._)("button",{onClick:t[1]||(t[1]=e=>a.logout()),class:"btn opacity blue animate__animated animate__fadeInDown d-1"},"Выйти")])):((0,r.wg)(),(0,r.iD)("div",d,[f,(0,r._)("button",{onClick:t[2]||(t[2]=t=>e.$router.push("/help")),class:"btn opacity animate__animated animate__fadeInDown d-2"},"Помощь"),(0,r._)("button",{onClick:t[3]||(t[3]=t=>e.$router.push("/login")),class:"btn icon animate__animated animate__fadeInDown d-3"},v)]))]),a.currentRouter.includes("/step/")?((0,r.wg)(),(0,r.iD)("div",h,[JSON.parse(a.system.driver_info)?((0,r.wg)(),(0,r.iD)("div",{key:0,class:(0,o.C_)(["step-progress__item",{active:a.pageNumber>=1}])},g,2)):(0,r.kq)("",!0),JSON.parse(a.system.type_ride)?((0,r.wg)(),(0,r.iD)("div",{key:1,class:(0,o.C_)(["step-progress__item",{active:a.pageNumber>=2}])},w,2)):(0,r.kq)("",!0),JSON.parse(a.system.tonometer_visible)?((0,r.wg)(),(0,r.iD)("div",{key:2,class:(0,o.C_)(["step-progress__item",{active:a.pageNumber>=3}])},O,2)):(0,r.kq)("",!0),JSON.parse(a.system.thermometer_visible)?((0,r.wg)(),(0,r.iD)("div",{key:3,class:(0,o.C_)(["step-progress__item",{active:a.pageNumber>=4}])},N,2)):(0,r.kq)("",!0),JSON.parse(a.system.alcometer_visible)?((0,r.wg)(),(0,r.iD)("div",{key:4,class:(0,o.C_)(["step-progress__item",{active:a.pageNumber>=5}])},Z,2)):(0,r.kq)("",!0),JSON.parse(a.system.question_sleep)?((0,r.wg)(),(0,r.iD)("div",{key:5,class:(0,o.C_)(["step-progress__item",{active:a.pageNumber>=6}])},x,2)):(0,r.kq)("",!0),JSON.parse(a.system.question_helth)?((0,r.wg)(),(0,r.iD)("div",{key:6,class:(0,o.C_)(["step-progress__item",{active:a.pageNumber>=7}])},j,2)):(0,r.kq)("",!0),(0,r._)("div",{class:(0,o.C_)(["step-progress__item",{active:a.pageNumber>=8}])},I,2)])):(0,r.kq)("",!0)],64)}var R={data(){return{}},computed:{currentRouter(){return this.$route.path},pageNumber(){const e=this.$route.path.split("/");return e[e.length-1]},logout(){this.$store.state.admin=!1,this.$router.push("/")},system(){return this.$store.state.config?.system||{}},inspection(){return this.$store.state.inspection}}},T=n(89);const $=(0,T.Z)(R,[["render",P]]);var J=$,A={name:"App",components:{Navigation:J}};const L=(0,T.Z)(A,[["render",s]]);var M=L,W=n(7625),U=n(4311),z=n(2483);const B=[{path:"",name:"home",component:()=>n.e(107).then(n.bind(n,4107))},{path:"/help",component:()=>n.e(610).then(n.bind(n,6610))},{path:"/login",component:()=>n.e(987).then(n.bind(n,2987))},{path:"/admin",component:()=>n.e(683).then(n.bind(n,2683))},{path:"/step/1",component:()=>n.e(159).then(n.bind(n,4159)),name:"step-1",meta:{visible:"driver_info",next:"step-2",prev:"home",number:1}},{path:"/step/2",component:()=>n.e(806).then(n.bind(n,3806)),name:"step-2",meta:{visible:"type_ride",next:"step-3",prev:"step-1",number:2}},{path:"/step/3",component:()=>n.e(465).then(n.bind(n,465)),name:"step-3",meta:{visible:"tonometer_visible",next:"step-4",prev:"step-2",number:3}},{path:"/step/4",component:()=>n.e(563).then(n.bind(n,7321)),name:"step-4",meta:{visible:"thermometer_visible",next:"step-5",prev:"step-3",number:4}},{path:"/step/5",component:()=>n.e(901).then(n.bind(n,1047)),name:"step-5",meta:{visible:"alcometer_visible",next:"step-6",prev:"step-4",number:5}},{path:"/step/6",component:()=>n.e(48).then(n.bind(n,1048)),name:"step-6",meta:{visible:"question_sleep",next:"step-7",prev:"step-5",number:6}},{path:"/step/7",component:()=>n.e(662).then(n.bind(n,4662)),name:"step-7",meta:{visible:"question_helth",next:"step-8",prev:"step-6",number:7}}];var F=n(4677),H=(n(343),n(4457));U.Z.defaults.baseURL="http://localhost:8080/",window.axios=U.Z,(0,H.ri)();const Y=(0,z.p7)({history:(0,z.PO)(),routes:B,mode:"history",scrollBehavior(e,t,n){return n||{top:0,left:0}}});Y.beforeEach(((e,t,n)=>{if((0,H.ri)(),e.path.includes("/step/")){if(!W.Z.state.inspection?.driver_id)return Y.push({name:"home"});if(e.meta?.visible&&W.Z.state.config?.system&&!JSON.parse(W.Z.state.config.system[e.meta.visible]))return t.meta?.number>e.meta.number?Y.push({name:e.meta.prev}):Y.push({name:e.meta.next})}return e.path.includes("/admin/")&&!W.Z.state.admin?Y.push({name:"home"}):("home"===e.name&&(W.Z.state.inspection={}),n())})),(0,i.ri)(M).use(W.Z).use(F.ZP,{position:"top-center",timeout:2500}).use(Y).mount("#app")},7625:function(e,t,n){var i=n(65),r=n(4677);const s=(0,r.pm)(),o=(0,i.MT)({state(){return{inspection:{},config:{},admin:!1}},getters:{url:e=>{if(e.config?.main?.url)return e.config.main.url;throw s.error("Ошибка конфигурации. URL адрес не указан."),new Error("Error configuration API url")}}});t["Z"]=o}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,i,r,s){if(!i){var o=1/0;for(l=0;l<e.length;l++){i=e[l][0],r=e[l][1],s=e[l][2];for(var a=!0,u=0;u<i.length;u++)(!1&s||o>=s)&&Object.keys(n.O).every((function(e){return n.O[e](i[u])}))?i.splice(u--,1):(a=!1,s<o&&(o=s));if(a){e.splice(l--,1);var c=r();void 0!==c&&(t=c)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[i,r,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,i){return n.f[i](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{48:"6b2e28ae",107:"f3cb8ffc",159:"75460f80",465:"a3526541",563:"3be72d31",610:"a43daf7b",662:"58840a66",683:"44efc016",806:"955d3455",901:"3390c28b",987:"be092b2c"}[e]+".js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="sdpo-frontend:";n.l=function(i,r,s,o){if(e[i])e[i].push(r);else{var a,u;if(void 0!==s)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var p=c[l];if(p.getAttribute("src")==i||p.getAttribute("data-webpack")==t+s){a=p;break}}a||(u=!0,a=document.createElement("script"),a.charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=i),e[i]=[r];var m=function(t,n){a.onerror=a.onload=null,clearTimeout(d);var r=e[i];if(delete e[i],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(m.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=m.bind(null,a.onerror),a.onload=m.bind(null,a.onload),u&&document.head.appendChild(a)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e={143:0};n.f.j=function(t,i){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var s=new Promise((function(n,i){r=e[t]=[n,i]}));i.push(r[2]=s);var o=n.p+n.u(t),a=new Error,u=function(i){if(n.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var s=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,r[1](a)}};n.l(o,u,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,i){var r,s,o=i[0],a=i[1],u=i[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(u)var l=u(n)}for(t&&t(i);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(l)},i=self["webpackChunksdpo_frontend"]=self["webpackChunksdpo_frontend"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(466)}));i=n.O(i)})();
//# sourceMappingURL=app.01830135.js.map