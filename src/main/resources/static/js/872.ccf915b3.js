"use strict";(self["webpackChunksdpo_frontend"]=self["webpackChunksdpo_frontend"]||[]).push([[872],{7872:function(t,i,s){s.r(i),s.d(i,{default:function(){return j}});var e=s(3396),n=s(7139),o=s(9242);const r={class:"driver-form"},a={key:0,class:"driver-form__title animate__animated animate__fadeInDown d-2"},_={key:1,class:"driver-form__title animate__animated animate__fadeInDown d-2"},d={class:"driver-form__input"},c={class:"number-buttons",ref:"numbers"},l=(0,e._)("i",{class:"ri-close-fill"},null,-1),u=[l],m=(0,e._)("i",{class:"ri-delete-back-line"},null,-1),b=[m],v={key:3,class:"driver-form__not-found animate__animated animate__fadeInUp"};function p(t,i,s,l,m,p){const w=(0,e.up)("medic-select");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(w),(0,e._)("div",r,[p.inspection.driver_fio?((0,e.wg)(),(0,e.iD)("div",a,(0,n.zw)(p.inspection.driver_fio),1)):((0,e.wg)(),(0,e.iD)("div",_," Введите ваш идентификатор ")),(0,e._)("div",d,[(0,e.wy)((0,e._)("input",{type:"number",class:"animate__animated animate__fadeIn d-5","onUpdate:modelValue":i[0]||(i[0]=t=>m.driver_id=t),onInput:i[1]||(i[1]=(...t)=>p.checkDriver&&p.checkDriver(...t))},null,544),[[o.nr,m.driver_id]])]),(0,e._)("div",c,[(0,e._)("button",{class:"number-buttons__item",onClick:i[2]||(i[2]=t=>m.driver_id+="1")},"1"),(0,e._)("button",{class:"number-buttons__item",onClick:i[3]||(i[3]=t=>m.driver_id+="2")},"2"),(0,e._)("button",{class:"number-buttons__item",onClick:i[4]||(i[4]=t=>m.driver_id+="3")},"3"),(0,e._)("button",{class:"number-buttons__item",onClick:i[5]||(i[5]=t=>m.driver_id+="4")},"4"),(0,e._)("button",{class:"number-buttons__item",onClick:i[6]||(i[6]=t=>m.driver_id+="5")},"5"),(0,e._)("button",{class:"number-buttons__item",onClick:i[7]||(i[7]=t=>m.driver_id+="6")},"6"),(0,e._)("button",{class:"number-buttons__item",onClick:i[8]||(i[8]=t=>m.driver_id+="7")},"7"),(0,e._)("button",{class:"number-buttons__item",onClick:i[9]||(i[9]=t=>m.driver_id+="8")},"8"),(0,e._)("button",{class:"number-buttons__item",onClick:i[10]||(i[10]=t=>m.driver_id+="9")},"9"),(0,e._)("button",{class:"number-buttons__item",onClick:i[11]||(i[11]=t=>m.driver_id="")},u),(0,e._)("button",{class:"number-buttons__item",onClick:i[12]||(i[12]=t=>m.driver_id+="0")},"0"),(0,e._)("button",{class:"number-buttons__item",onClick:i[13]||(i[13]=t=>m.driver_id=m.driver_id.slice(0,-1))},b)],512),p.inspection.driver_id?((0,e.wg)(),(0,e.iD)("button",{key:2,onClick:i[14]||(i[14]=(...t)=>p.start&&p.start(...t)),class:"btn animate__animated animate__fadeInUp"},"начать осмотр")):m.driver_id.length>=6&&!m.loading?((0,e.wg)(),(0,e.iD)("div",v,"Водитель не найден")):(0,e.kq)("",!0)])],64)}s(7658);var w=s(6509),k=s(4677);const h={key:1,class:"medics animate__animated animate__fadeInRight"},f={key:0,class:"medics__form"},g=(0,e._)("div",{class:"login-form__title"}," Введите пароль ",-1),C={class:"login-form__input"},y={class:"number-buttons",ref:"numbers"},D=(0,e._)("i",{class:"ri-close-fill"},null,-1),$=[D],I=(0,e._)("i",{class:"ri-delete-back-line"},null,-1),q=[I],H={class:"medics__form-selected"},z={key:1,class:"medics__select"},U={key:0,class:"medics__town"},Y={class:"medics__point"},L=["onClick"],K=(0,e._)("div",{class:"medics__town"}," Название города ",-1),P=(0,e._)("div",{class:"medics__point"}," Пункт выпуска ",-1),S=(0,e._)("button",{class:"medics__item"}," Фамилия имя отчетство ",-1);function V(t,i,s,r,a,_){return(0,e.wg)(),(0,e.iD)(e.HY,null,[_.medic.selecting?((0,e.wg)(),(0,e.iD)("div",{key:0,onClick:i[0]||(i[0]=t=>_.medic.selecting=!1),class:"medics__overlay animate__animated animate__fadeIn"})):(0,e.kq)("",!0),_.medic.selecting?((0,e.wg)(),(0,e.iD)("div",h,["login"===a.status?((0,e.wg)(),(0,e.iD)("div",f,[g,(0,e._)("div",C,[(0,e.wy)((0,e._)("input",{type:"password","onUpdate:modelValue":i[1]||(i[1]=t=>a.password=t)},null,512),[[o.nr,a.password]])]),(0,e._)("div",y,[(0,e._)("button",{class:"number-buttons__item",onClick:i[2]||(i[2]=t=>a.password+="1")},"1"),(0,e._)("button",{class:"number-buttons__item",onClick:i[3]||(i[3]=t=>a.password+="2")},"2"),(0,e._)("button",{class:"number-buttons__item",onClick:i[4]||(i[4]=t=>a.password+="3")},"3"),(0,e._)("button",{class:"number-buttons__item",onClick:i[5]||(i[5]=t=>a.password+="4")},"4"),(0,e._)("button",{class:"number-buttons__item",onClick:i[6]||(i[6]=t=>a.password+="5")},"5"),(0,e._)("button",{class:"number-buttons__item",onClick:i[7]||(i[7]=t=>a.password+="6")},"6"),(0,e._)("button",{class:"number-buttons__item",onClick:i[8]||(i[8]=t=>a.password+="7")},"7"),(0,e._)("button",{class:"number-buttons__item",onClick:i[9]||(i[9]=t=>a.password+="8")},"8"),(0,e._)("button",{class:"number-buttons__item",onClick:i[10]||(i[10]=t=>a.password+="9")},"9"),(0,e._)("button",{class:"number-buttons__item",onClick:i[11]||(i[11]=t=>a.password="")},$),(0,e._)("button",{class:"number-buttons__item",onClick:i[12]||(i[12]=t=>a.password+="0")},"0"),(0,e._)("button",{class:"number-buttons__item",onClick:i[13]||(i[13]=t=>a.password=a.password.slice(0,-1))},q)],512),(0,e._)("div",H,(0,n.zw)(_.medic.name||"Сотрудник не выбран"),1)])):((0,e.wg)(),(0,e.iD)("div",z,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(a.medics,((t,i)=>((0,e.wg)(),(0,e.iD)("div",{key:i},[i?((0,e.wg)(),(0,e.iD)("div",U,(0,n.zw)(i),1)):(0,e.kq)("",!0),i?((0,e.wg)(!0),(0,e.iD)(e.HY,{key:1},(0,e.Ko)(t,((t,i)=>((0,e.wg)(),(0,e.iD)("div",{key:i},[(0,e._)("div",Y,(0,n.zw)(i),1),((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(t,(t=>((0,e.wg)(),(0,e.iD)("button",{key:t.id,class:"medics__item",onClick:i=>_.select(t)},(0,n.zw)(t.name),9,L)))),128))])))),128)):(0,e.kq)("",!0)])))),128)),K,P,S]))])):(0,e.kq)("",!0)],64)}var Z={data(){return{medics:{},status:"login",password:"",show:!1}},async mounted(){this.medics=await(0,w.oP)()},methods:{login(){this.password===this.config?.medic_password&&(this.password="",this.status="select")},select(t){this.medic.name=t.name,this.medic.id=t.id,this.status="login"}},computed:{medic(){return this.$store.state.medic},config(){return this.$store.state.config?.main}},watch:{password:function(t){this.login()}}},A=s(89);const E=(0,A.Z)(Z,[["render",V]]);var M=E,R={name:"Home",components:{MedicSelect:M},data(){return{driver_id:"",toast:(0,k.pm)(),loading:!1}},methods:{async start(){const t=await(0,w.L$)(this.driver_id);if(!t)return this.driver_id="",void this.toast.error("Водитель с указаным ID не найден");this.$store.state.inspection.driver_id=t.hash_id,this.$store.state.inspection.driver_fio=t.fio,this.$router.push("/step/1")},async checkDriver(){if(this.driver_id.length<6)return void(this.$store.state.inspection={});this.loading=!0;const t=await(0,w.L$)(this.driver_id);this.loading=!1,t?(this.$store.state.inspection.driver_id=t.hash_id,this.$store.state.inspection.driver_fio=t.fio):this.$store.state.inspection={}}},watch:{driver_id:function(t){this.checkDriver()}},computed:{config(){return this.$store.state.config},inspection(){return this.$store.state.inspection}},mounted(){this.$refs.numbers.querySelectorAll("button").forEach(((t,i)=>{t.classList.add("animate__animated"),t.classList.add("animate__fadeInUp"),t.style.setProperty("animation-delay",.6+.05*i+"s")}))}};const W=(0,A.Z)(R,[["render",p]]);var j=W}}]);
//# sourceMappingURL=872.ccf915b3.js.map