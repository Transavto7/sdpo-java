{"version":3,"file":"js/481.01b9a876.js","mappings":"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","sources":["webpack://sdpo-frontend/./src/components/InputPhoneNumber.vue","webpack://sdpo-frontend/./src/components/InputPhoneNumber.vue?1225","webpack://sdpo-frontend/./src/components/common/Loader.vue","webpack://sdpo-frontend/./src/components/common/Loader.vue?f04c","webpack://sdpo-frontend/./src/pages/driver/InputAndSavePhone.vue","webpack://sdpo-frontend/./src/pages/driver/InputAndSavePhone.vue?f03b"],"sourcesContent":["<script>\nimport InputNumber from \"@/components/InputNumber\";\n\nexport default {\n  name: \"InputPhoneNumber\",\n  components: {InputNumber},\n  props: {\n    maskInput: {\n      type: String,\n      default: () => {\n        return '+7 ... ... .. ..';\n      }\n    },\n    placeholder: {\n      type: String,\n      default: () => {\n        return '.'\n      }\n    }\n  },\n  data() {\n    return {\n      originNumber: '',\n      maskNumber: '',\n      mask: this.maskInput\n    }\n  },\n  methods: {\n    pushIntoNumber(char) {\n      if (!this.isMaxLengthReached()) {\n        if (!(this.originNumber.length === 0 && char === '8'))\n          this.originNumber += char;\n      }\n    },\n    popIntoNumber() {\n      this.originNumber = this.originNumber.slice(0, -1)\n    },\n    clearNumber() {\n      this.originNumber = '';\n    },\n\n    countOccurrences() {\n      let count = 0;\n      for (let i = 0; i < this.mask.length; i++) {\n        if (this.mask.charAt(i) === this.placeholder) {\n          count++;\n        }\n      }\n      return count;\n    },\n\n    isMaxLengthReached() {\n      return this.originNumber.length === this.countOccurrences();\n    },\n    replaceAt(string, index, replacement) {\n      return string.substr(0, index) + replacement + string.substr(index + replacement.length);\n    },\n    setMaskNumber() {\n      let tmpNumber = this.originNumber;\n      let resNumber = this.mask;\n      Array.from(tmpNumber).forEach(value => {\n        resNumber = this.replaceAt(resNumber, resNumber.indexOf('.'), value)\n      })\n      this.maskNumber = resNumber.split('.').join('');\n      this.$emit('acceptOn', this.maskNumber.split(' ').join(''));\n    }\n  },\n  watch: {\n    originNumber: function () {\n      this.setMaskNumber();\n    }\n  },\n  mounted() {\n    this.setMaskNumber()\n  }\n}\n</script>\n<template>\n  <div class=\"number-form\">\n      <div class=\"number-form__title animate__animated animate__fadeInDown d-2\">\n        Введите личный номер телефона\n      </div>\n      <div class=\"number-form__input\">\n        <input type=\"text\" class=\"animate__animated animate__fadeIn d-5\"\n               style=\"letter-spacing: 4px;\"\n               v-model=\"maskNumber\"/>\n      </div>\n\n      <input-number\n          @pushIntoNumber=\"(char) => pushIntoNumber(char)\"\n          @popIntoNumber=\"() => popIntoNumber()\"\n          @clearNumber=\"() => clearNumber()\"\n      />\n  </div>\n</template>\n","import { render } from \"./InputPhoneNumber.vue?vue&type=template&id=2bfaaf7f\"\nimport script from \"./InputPhoneNumber.vue?vue&type=script&lang=js\"\nexport * from \"./InputPhoneNumber.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/baarme/develop/java/sdpo-java/src/main/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\nexport default {\n  props: {\n    loading: {\n      type: Boolean,\n      default: false,\n    }\n  },\n}\n</script>\n<template>\n  <div v-if=\"loading\" class=\"admin__loading animate__animated animate__fadeInUp\" style=\"z-index: 3\">\n    <div class=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\n    Загрузка\n  </div>\n</template>\n","import { render } from \"./Loader.vue?vue&type=template&id=1380ac7d\"\nimport script from \"./Loader.vue?vue&type=script&lang=js\"\nexport * from \"./Loader.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/baarme/develop/java/sdpo-java/src/main/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\nimport InputPhoneNumber from \"@/components/InputPhoneNumber\";\nimport Loader from \"@/components/common/Loader\";\nimport {savePhone} from '@/helpers/api/api';\n\nimport {useToast} from \"vue-toastification\";\n\n\nexport default {\n  name: \"InputAndSavePhone\",\n  components: {Loader, InputPhoneNumber},\n  data() {\n    return {\n      phoneNumber: '',\n      toast: useToast(),\n      loading: false,\n    }\n  },\n  methods: {\n    setPhoneNumber(phoneNumber) {\n      this.phoneNumber = phoneNumber;\n    },\n    formattingPhoneNumber() {\n      if (this.phoneNumber[0] === '+')\n        return this.phoneNumber.slice(1)\n      return this.phoneNumber\n    },\n    async storePhone() {\n      this.loading = true\n      await savePhone(this.formattingPhoneNumber(), this.$store.state.inspection.driver_id)\n      this.loading = false\n      this.$router.push({name: 'step-driver'});\n    }\n  },\n  computed: {\n    hasPhone() {\n      return this.phoneNumber.length === 12;\n    }\n  }\n}\n</script>\n<template>\n  <loader v-model:loading=\"loading\"/>\n  <div v-if=\"!this.loading\" class=\"input-save-phone\">\n    <input-phone-number\n        @acceptOn=\"(phoneNumber) => setPhoneNumber(phoneNumber)\"/>\n    <button v-if=\"hasPhone\" @click=\"storePhone()\" class=\"btn animate__animated animate__fadeInUp\">\n      Сохранить\n    </button>\n  </div>\n</template>\n\n<style scoped>\n\n</style>","import { render } from \"./InputAndSavePhone.vue?vue&type=template&id=05b0f260\"\nimport script from \"./InputAndSavePhone.vue?vue&type=script&lang=js\"\nexport * from \"./InputAndSavePhone.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/baarme/develop/java/sdpo-java/src/main/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","type","style","$data","maskNumber","$event","_createVNode","_component_input_number","onPushIntoNumber","_cache","char","$options","pushIntoNumber","onPopIntoNumber","popIntoNumber","onClearNumber","clearNumber","name","components","InputNumber","props","maskInput","String","default","placeholder","data","originNumber","mask","this","methods","isMaxLengthReached","length","slice","countOccurrences","count","i","charAt","replaceAt","string","index","replacement","substr","setMaskNumber","tmpNumber","resNumber","Array","from","forEach","value","indexOf","split","join","$emit","watch","mounted","__exports__","render","$props","loading","Boolean","_component_loader","_component_input_phone_number","onAcceptOn","phoneNumber","setPhoneNumber","hasPhone","onClick","storePhone","Loader","InputPhoneNumber","toast","useToast","formattingPhoneNumber","async","savePhone","$store","state","inspection","driver_id","$router","push","computed"],"sourceRoot":""}