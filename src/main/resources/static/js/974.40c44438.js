"use strict";(self["webpackChunksdpo_frontend"]=self["webpackChunksdpo_frontend"]||[]).push([[974],{6700:function(t,e,a){a.d(e,{_:function(){return o},p:function(){return r}});var n=a(7625),s=a(4677);const i=(0,s.pm)();async function r(){return await axios.post("device/alcometer").then((({data:t})=>t)).catch(c)}async function o(){return await axios.post("device/alcometer/close").then((({data:t})=>t)).catch(c)}function c(t){const e=t.response?.data;if(e?.message)i.error(e.message);else if(t.response)switch(t?.response?.status){case 400:i.error("Ошибка авторизации запроса");case 500:i.error("Ошибка сервера");default:i.error("Неизвестная ошибка запроса")}else n.Z.$state.loseConnect=!0;console.log(t)}},2419:function(t,e,a){a.d(e,{TQ:function(){return r},TX:function(){return o},af:function(){return i},o:function(){return c}});var n=a(7625),s=a(4677);(0,s.pm)();async function i(){return await axios.post("device/photo").then((({data:t})=>t)).catch(p)}async function r(){return await axios.get("device/video/size").then((({data:t})=>t)).catch(p)}async function o(){return await axios.post("device/video").then((({data:t})=>t)).catch(p)}async function c(){return await axios.post("device/video/test").then((({data:t})=>t)).catch(p)}function p(t){t.response&&(n.Z.$state.loseConnect=!0),console.log(t)}},3785:function(t,e,a){a.r(e),a.d(e,{default:function(){return v}});var n=a(3396),s=a.p+"img/alco_guide.a6a48b74.png",i=a.p+"img/alco_guide_2.a5bbcd2d.png";const r={class:"step-5__outer"},o=(0,n.uE)('<div class="step-5"><h3 class="animate__animated animate__fadeInDown">Проверка на алкоголь</h3><div class="step-5__items"><div class="step-5__item animate__animated animate__fadeInUp d-1"><span>1</span><img style="padding-right:20px;" width="100" src="'+s+'"> Проверьте, что вставлена воронка </div><div class="step-5__item animate__animated animate__fadeInUp d-2"><span>2</span><img width="100" src="'+i+'"> Держите алкотестер на расстоянии 2-3 см от рта </div><div class="step-5__text animate__animated animate__fadeInUp d-2"> Дождитесь ГОТОВ на экране алкометра<br><br> Начните дуть с умеренной силой до окончания<br> звукового сигнала.<br><br></div></div><p class="alert red"><i class="ri-alarm-warning-fill"></i> НЕ ПРИКАСАТЬСЯ К АЛКОТЕСТЕРУ ГУБАМИ </p></div>',1),c={class:"step-buttons"};function p(t,e,a,s,i,p){return(0,n.wg)(),(0,n.iD)("div",r,[o,(0,n._)("div",c,[(0,n._)("button",{onClick:e[0]||(e[0]=t=>p.prevStep()),class:"btn opacity blue"},"Назад"),JSON.parse(p.system.alcometer_skip)?((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>p.nextStep()),class:"btn"},"Продолжить")):(0,n.kq)("",!0)])])}a(7658);var d=a(6700),u=a(2419),l={data(){return{interval:null}},methods:{async saveWebCam(){JSON.parse(this.system.camera_photo)&&!this.inspection.photo&&(this.inspection.photo=await(0,u.af)()),JSON.parse(this.system.camera_video)&&!this.inspection.video&&(this.inspection.video=await(0,u.TX)())},async nextStep(){clearInterval(this.interval),this.$router.push("/step/6"),(0,d._)()},async prevStep(){clearInterval(this.interval),this.$router.push("/step/4"),(0,d._)()}},async mounted(){this.saveWebCam(),this.interval=setInterval((async()=>{const t=await(0,d.p)();"next"!==t&&(this.inspection.alcometer_result=Number(t)||0,this.nextStep())}),1e3)},unmounted(){clearInterval(this.interval)},computed:{inspection(){return this.$store.state.inspection},system(){return this.$store.state.config?.system||{}}}},h=a(89);const m=(0,h.Z)(l,[["render",p]]);var v=m}}]);
//# sourceMappingURL=974.40c44438.js.map