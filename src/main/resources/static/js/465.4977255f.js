"use strict";(self["webpackChunksdpo_frontend"]=self["webpackChunksdpo_frontend"]||[]).push([[465],{19:function(e,t,s){s.r(t),s.d(t,{default:function(){return x}});s(7658);var i=s(3396),a=s(7139);const n={class:"step-result"},r=(0,i._)("h3",{class:"animate__animated animate__fadeInDown"},"Результаты осмотра",-1),u={class:"step-result__cards"},l={key:0,class:"step-result__card animate__animated animate__fadeInUp d-1"},o=(0,i._)("span",null,"Давление",-1),m={key:1,class:"step-result__card animate__animated animate__fadeInUp d-2"},c=(0,i._)("span",null,"Пульс",-1),d={key:2,class:"step-result__card animate__animated animate__fadeInUp d-2"},p=(0,i._)("span",null,"Количество промилле",-1),_={key:3,class:"step-result__card animate__animated animate__fadeInUp d-2"},h=(0,i._)("span",null,"Температура тела",-1),v={key:4,class:"step-result__card animate__animated animate__fadeInUp d-2"},g=(0,i._)("span",null,"Сонливость",-1),y={key:5,class:"step-result__card animate__animated animate__fadeInUp d-2"},f=(0,i._)("span",null,"Самочувствие",-1),b={class:"step-result__footer"},w={class:"step-result__text animate__animated animate__fadeInUp"},k=(0,i._)("br",null,null,-1),q={key:0,class:"animate__animated animate__fadeInUp"},U={class:"step-result__buttons"};function I(e,t,s,I,D,C){const P=(0,i.up)("result-repeat");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(P,{visible:C.showRetryModal,"onUpdate:visible":t[0]||(t[0]=e=>C.showRetryModal=e),"message-content":C.getComment,"onUpdate:messageContent":t[1]||(t[1]=e=>C.getComment=e),onAccept:t[2]||(t[2]=e=>C.redirectRepeat())},null,8,["visible","message-content"]),(0,i._)("div",n,[r,(0,i._)("div",u,[C.system.tonometer_visible?((0,i.wg)(),(0,i.iD)("div",l,[o,(0,i.Uk)(" "+(0,a.zw)(C.inspection.hasOwnProperty("tonometer")?C.inspection.tonometer:"Неизвестно"),1)])):(0,i.kq)("",!0),C.system.tonometer_visible?((0,i.wg)(),(0,i.iD)("div",m,[c,(0,i.Uk)(" "+(0,a.zw)(C.inspection.hasOwnProperty("pulse")?C.inspection.pulse:"Неизвестно"),1)])):(0,i.kq)("",!0),C.system.alcometer_visible?((0,i.wg)(),(0,i.iD)("div",d,[p,(0,i.Uk)(" "+(0,a.zw)(C.inspection.hasOwnProperty("alcometer_result")?C.inspection.alcometer_result+" ‰":"Неизвестно"),1)])):(0,i.kq)("",!0),C.system.thermometer_visible?((0,i.wg)(),(0,i.iD)("div",_,[h,(0,i.Uk)(" "+(0,a.zw)(C.inspection.hasOwnProperty("t_people")?C.inspection.t_people+" °C":"Неизвестно"),1)])):(0,i.kq)("",!0),C.system.question_sleep?((0,i.wg)(),(0,i.iD)("div",v,[g,(0,i.Uk)(" "+(0,a.zw)(C.inspection.hasOwnProperty("sleep_status")?C.getSleepStatus(C.inspection.sleep_status):"Неизвестно"),1)])):(0,i.kq)("",!0),C.system.question_helth?((0,i.wg)(),(0,i.iD)("div",y,[f,(0,i.Uk)(" "+(0,a.zw)(C.inspection.hasOwnProperty("people_status")?C.getPeopleStatus(C.inspection.people_status):"Неизвестно"),1)])):(0,i.kq)("",!0)]),(0,i._)("div",b,[(0,i._)("span",w,[(0,i.Uk)((0,a.zw)(D.result.admitted||"ожидание ответа"),1),k,"Допущен"===D.result.admitted?((0,i.wg)(),(0,i.iD)("p",q," Счастливого пути! ")):(0,i.kq)("",!0)]),(0,i._)("div",U,[(0,i._)("button",{onClick:t[3]||(t[3]=t=>e.$router.push("/")),class:"btn blue animate__animated animate__fadeInUp"},"В начало"),"Допущен"===D.result?.admitted?((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:t[4]||(t[4]=e=>C.replayPrint()),class:"btn opacity animate__animated animate__fadeInUp"},"Повтор печати ")):(0,i.kq)("",!0)])])])],64)}var D=s(6509);const C={key:1,class:"approval animate__animated animate__fadeInRight"},P=(0,i._)("div",{class:"approval__title"},[(0,i._)("span",{style:{"font-weight":"400"}},"Не идетифицирован")],-1),S={class:"approval__content"};function R(e,t,s,n,r,u){return(0,i.wg)(),(0,i.iD)(i.HY,null,[s.visible?((0,i.wg)(),(0,i.iD)("div",{key:0,onClick:t[0]||(t[0]=(...e)=>u.closeModal&&u.closeModal(...e)),class:"medics__overlay animate__animated animate__fadeIn"})):(0,i.kq)("",!0),s.visible?((0,i.wg)(),(0,i.iD)("div",C,[P,(0,i._)("div",S,[(0,i._)("div",null,(0,a.zw)(this.messageContent),1),(0,i._)("button",{onClick:t[1]||(t[1]=(...e)=>u.accept&&u.accept(...e)),class:"btn approval__button-submit animate__animated animate__fadeInUp"},"В начало осмотра")])])):(0,i.kq)("",!0)],64)}var M=s.p+"media/alert.1cca9e8e.ogg";function $(){new Audio(M).play()}var z={props:{visible:{type:Boolean,require:!0},messageContent:{type:String,require:!0,default:""}},methods:{closeModal(){this.$emit("close-modal")},accept(){this.closeModal(),this.$emit("accept")}},watch:{visible:function(e){e&&$()}}},T=s(89);const A=(0,T.Z)(z,[["render",R]]);var O=A,H={components:{ResultRepeat:O},data(){return{backTimeout:null,result:{},conclusion:{admitted:"",comments:""}}},async mounted(){await this.save(),this.result.admitted="Не идетифицирован",this.result.comments="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent porta nunc in malesuada pretium. Nunc nec ipsum magna. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum lorem ante, dignissim vitae tincidunt feugiat, molestie vel elit. Maecenas vitae tellus arcu. Cras volutpat justo eros, ut rutrum lorem convallis nec. Praesent commodo dolor id erat pretium, a dignissim ipsum blandit. Fusce malesuada purus in libero consequat sollicitudin. Aenean nisl urna, elementum nec nibh et, tristique ultricies neque. Duis justo ligula, vehicula non felis in, condimentum hendrerit lacus. In eget blandit ex.\n\nInteger non ipsum turpis. Nam at ante dui. Pellentesque magna arcu, aliquam ut urna vitae, finibus porta diam. Interdum et malesuada fames ac ante ipsum primis in faucibus. Donec facilisis, justo vitae viverra suscipit, arcu mi commodo risus, non varius libero nunc quis velit. Sed non eros eu nisl interdum pellentesque et eget odio. Mauris tristique viverra metus eget pellentesque. Morbi euismod velit quis congue ornare. Aenean tincidunt neque eget nisl efficitur, eget egestas lorem rutrum. Sed vitae tellus tortor. Nunc lobortis nisl quis dolor maximus scelerisque. Sed a eros ac enim rutrum volutpat. Pellentesque scelerisque, nisi ut finibus vulputate, orci lectus pharetra arcu, ut consequat velit felis in magna. Ut in nulla a mauris hendrerit congue et in massa.\n",this.autoStart&&(this.backTimeout=this.setTimeoutAndRedirect())},unmounted(){clearTimeout(this.backTimeout)},methods:{getSleepStatus(e){return"Да"===e?"Выспались":"Не выспались"},getPeopleStatus(e){return"Да"===e?"Хорошее":"Плохое"},async save(){this.result=await(0,D._u)(),this.conclusion.admitted=this.result.admitted??"",this.conclusion.comments=this.result.comments??""},async replayPrint(){await(0,D.Jw)()},redirectHome(){"step-result"===this.$route.name&&this.$router.push("/")},redirectRepeat(){"step-result"===this.$route.name&&this.$router.push({name:"step-retry"})},setTimeoutAndRedirect(){return"Не идетифицирован"===this.result.admitted?setTimeout(this.redirectRepeat,this.system.delay_before_retry_inspection):setTimeout(this.redirectHome,5e3)}},computed:{autoStart(){return this.system.auto_start},showRetryModal(){return"Не идетифицирован"===this.result.admitted},getComment(){return this.result.comments??""},inspection(){return this.$store.state.inspection},system(){return this.$store.state.config?.system||{}}}};const j=(0,T.Z)(H,[["render",I]]);var x=j}}]);
//# sourceMappingURL=465.4977255f.js.map