{"version":3,"file":"js/810.d4a22a78.js","mappings":"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","sources":["webpack://sdpo-frontend/./src/helpers/printer.js","webpack://sdpo-frontend/./src/components/common/Loader.vue","webpack://sdpo-frontend/./src/components/common/Loader.vue?f04c","webpack://sdpo-frontend/./src/pages/print/QR/PrintQr.vue","webpack://sdpo-frontend/./src/pages/print/QR/PrintQrLogin.vue","webpack://sdpo-frontend/./src/pages/print/QR/PrintQrLogin.vue?c8a3","webpack://sdpo-frontend/./src/pages/print/QR/SelectQr.vue","webpack://sdpo-frontend/./src/pages/print/QR/SelectQr.vue?edb2","webpack://sdpo-frontend/./src/pages/print/QR/PrintQr.vue?2614"],"sourcesContent":["import axios from 'axios';\nimport {defaultError} from \"@/helpers/http-errors\";\n\nexport async function print() {\n    return await axios.post(`device/printer`).then(({ data }) => {\n        return data;\n    }).catch(defaultError);\n}\n\nexport async function printQr(driverId, type) {\n    return await axios.post(`/device/printer/qr`, {\n        'driver' : driverId,\n        'type' : type\n    }).then(({ data }) => {\n        return data;\n    }).catch(defaultError);\n}","<script>\nexport default {\n  props: {\n    loading: {\n      type: Boolean,\n      default: false,\n    }\n  },\n}\n</script>\n<template>\n  <div v-if=\"loading\" class=\"admin__loading animate__animated animate__fadeInUp\" style=\"z-index: 3\">\n    <div class=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\n    Загрузка\n  </div>\n</template>\n","import { render } from \"./Loader.vue?vue&type=template&id=1380ac7d\"\nimport script from \"./Loader.vue?vue&type=script&lang=js\"\nexport * from \"./Loader.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/baarme/develop/java/sdpo-java/src/main/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\nimport Loader from \"@/components/common/Loader\";\nimport {useToast} from \"vue-toastification\";\nimport {printQr} from \"@/helpers/printer\";\nimport PrintQrLogin from \"@/pages/print/QR/PrintQrLogin\";\nimport SelectQr from \"@/pages/print/QR/SelectQr\";\n\n\nexport default {\n  components: {SelectQr, PrintQrLogin, Loader},\n  data() {\n    return {\n      toast: useToast(),\n      loading: false,\n      visibleNumPad: false,\n      selectTab: \"\"\n    }\n  },\n  methods: {\n    print(hash_id) {\n      printQr(hash_id,  this.selectTab);\n      this.toast.success('Задание на печать отправлено');\n      setTimeout(() => {\n        this.$router.push('/');\n      }, 5000);\n    },\n    setTab(type) {\n      this.showNumPad()\n      this.selectTab = type\n    },\n    showNumPad() {\n      this.visibleNumPad = true;\n    },\n  },\n  computed: {\n    login() {\n      return this.driver !== null\n    },\n  },\n}\n</script>\n\n<template>\n  <print-qr-login v-if=\"this.visibleNumPad\"\n                  :type=\"this.selectTab\"\n                  @success-auth=\"(hash_id) => print(hash_id)\"\n  />\n  <select-qr v-if=\" !this.visibleNumPad\"\n                  @select=\"(type) => setTab(type)\"\n  />\n</template>\n","<script>\nimport InputPersonalNumberForm from \"@/components/InputPersonalNumberForm\";\nimport {getCar, getDriver} from '@/helpers/api/api';\nimport { useToast } from \"vue-toastification\";\n\nexport default {\n  name: \"PrintQrNumPad\",\n  components: {InputPersonalNumberForm },\n  props : {\n    type: String\n  },\n  data() {\n    return {\n      hash_id: '',\n      instance: null,\n      error: '',\n      toast: useToast(),\n      loading: false,\n    }\n  },\n  methods: {\n    async start() {\n      this.$emit('success-auth', this.instance.hash_id)\n    },\n    updateHashId(inputPassword) {\n      this.hash_id = inputPassword;\n    },\n    async checkInstance() {\n      this.error = null;\n      this.instance = null;\n      if (this.hash_id.length < 6) {\n        return;\n      }\n\n      this.loading = true;\n      try {\n        let instance = null;\n        switch (this.type){\n          case  'driverId' :  instance = await getDriver(this.hash_id); break;\n          case  'carId' :  instance = await getCar(this.hash_id); break;\n          default: return;\n        }\n        if (instance) {\n          this.instance = instance\n          this.error = null;\n        } else {\n          this.error = (this.instance === '123' ? 'Водитель' : 'Автомобиль') + ' не найден';\n        }\n      } catch (error) {\n        this.error = error.response?.data?.message || 'Неизвестная ошибка';\n      }\n      this.loading = false;\n    }\n  },\n  watch: {\n    hash_id: function () {\n      this.checkInstance();\n    }\n  },\n  computed : {\n    title() {\n      switch (this.type){\n        case  'driverId' :  return this.instance.fio;\n        case  'carId' :  return this.instance.gos_number;\n        default: return;\n      }\n    },\n    hasInstance() {\n      return this.instance !== null\n    },\n  }\n}\n</script>\n\n<template>\n  <div class=\"home\">\n    <div class=\"driver-form\">\n      <div v-if=\"hasInstance\" class=\"driver-form__title animate__animated animate__fadeInDown d-2\">\n        {{ title }}\n      </div>\n      <div v-else class=\"driver-form__title animate__animated animate__fadeInDown d-2\">\n        Введите ваш идентификатор\n      </div>\n      <div class=\"driver-form__input\">\n        <input type=\"number\" class=\"animate__animated animate__fadeIn d-5\" v-model=\"hash_id\"/>\n      </div>\n\n      <input-personal-number-form\n          @password=\" (inputPassword) => updateHashId(inputPassword)\"\n      />\n      <button v-if=\"hasInstance\"\n              @click=\"start\"\n              class=\"btn animate__animated animate__fadeInUp\">\n        Печать\n      </button>\n      <div v-if=\"error\" class=\"driver-form__not-found animate__animated animate__fadeInUp\">{{ error }}</div>\n    </div>\n  </div>\n</template>","import { render } from \"./PrintQrLogin.vue?vue&type=template&id=18b18d08\"\nimport script from \"./PrintQrLogin.vue?vue&type=script&lang=js\"\nexport * from \"./PrintQrLogin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/baarme/develop/java/sdpo-java/src/main/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\n\nexport default {\n  methods: {\n    selectBus() {\n      this.$emit('select', 'carId');\n    },\n    selectDriver() {\n      this.$emit('select', 'driverId');\n    },\n  }\n}\n</script>\n\n<template>\n  <div class=\"print-selection\">\n    <div class=\"tab animate__animated animate__fadeInUp d-1\" @click=\"selectBus()\">\n      <img width=\"300\" src=\"@/assets/images/print/busQR.svg\">\n      <label style=\"margin-top: 15px;\">QR инспекции автомобиля</label>\n    </div>\n    <div class=\"tab\">\n      <img width=\"300\" src=\"@/assets/images/print/driverQR.svg\" @click=\"selectDriver()\">\n      <label style=\"margin-top: 15px;\">QR осмотра водителя</label>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n\n</style>","import { render } from \"./SelectQr.vue?vue&type=template&id=0a126653\"\nimport script from \"./SelectQr.vue?vue&type=script&lang=js\"\nexport * from \"./SelectQr.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/baarme/develop/java/sdpo-java/src/main/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./PrintQr.vue?vue&type=template&id=eca8cfc8\"\nimport script from \"./PrintQr.vue?vue&type=script&lang=js\"\nexport * from \"./PrintQr.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/baarme/develop/java/sdpo-java/src/main/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["async","print","axios","then","data","catch","defaultError","printQr","driverId","type","class","style","_createElementVNode","$props","loading","_createElementBlock","_hoisted_1","_hoisted_2","props","Boolean","default","__exports__","render","visibleNumPad","_createBlock","_component_print_qr_login","selectTab","onSuccessAuth","_cache","hash_id","$options","_component_select_qr","onSelect","setTab","hasInstance","_hoisted_3","_toDisplayString","title","_hoisted_4","_hoisted_5","$data","$event","_createVNode","_component_input_personal_number_form","onPassword","inputPassword","updateHashId","onClick","args","start","error","_hoisted_6","name","components","InputPersonalNumberForm","String","instance","toast","useToast","methods","this","$emit","length","getDriver","getCar","response","message","watch","checkInstance","computed","fio","gos_number","width","src","_imports_0","selectBus","_imports_1","selectDriver","SelectQr","PrintQrLogin","Loader","success","setTimeout","$router","push","showNumPad","login","driver"],"sourceRoot":""}