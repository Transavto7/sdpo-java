{"version":3,"file":"js/750.e96579cd.js","mappings":"uKAEOA,eAAeC,IAClB,aAAaC,MAAMC,KAAM,sBAAqBC,MAAK,EAAGC,UAC3CA,IACRC,MAAMC,EAAAA,EACb,C,uMCsDOC,MAAM,iB,GACJA,MAAM,U,UACTC,EAAAA,EAAAA,GAA+E,MAA3ED,MAAM,uCAAsC,8BAA0B,K,SACnDA,MAAM,sB,UAG7BC,EAAAA,EAAAA,GAA0F,OAArFD,MAAM,0CAA0CE,IAAAC,G,cAGlDH,MAAM,gB,0CATbI,EAAAA,EAAAA,IAeM,MAfNC,EAeM,EAdJJ,EAAAA,EAAAA,GAMM,MANNK,EAMM,CALJC,EACWC,EAAAC,MAAMC,OAAI,WAArBN,EAAAA,EAAAA,IAEM,MAFNO,GAEMC,EAAAA,EAAAA,IADDJ,EAAAC,MAAMI,SAAO,oBAElBC,KAGFb,EAAAA,EAAAA,GAKM,MALNc,EAKM,EAJJd,EAAAA,EAAAA,GAAiG,UAAxFe,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAC,QAAQC,KAAK,CAADC,KAAA,oBAA8BtB,MAAM,oBAAmB,SAErEuB,KAAKC,MAAMC,EAAAC,OAAOC,oBAAgB,WADhDvB,EAAAA,EAAAA,IAES,U,MAFAY,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAC,QAAQC,KAAK,CAADC,KAAA,oBACuBtB,MAAM,OAAM,iBAC/D,kB,eAtEN,GACEH,OACE,MAAO,CACL+B,SAAU,KACVnB,MAAO,CACLC,MAAM,EACNG,SAAS,GAGf,EACArB,gBACEqC,KAAKD,SAAWE,aAAYtC,UAC1B,IAAIuC,QAAetC,EAAAA,EAAAA,KAEnB,QAAeuC,IAAXD,GAAmC,OAAXA,GAIb,SAAXA,EAAJ,CAMA,GAFAA,EAASE,OAAOF,IAAW,KAEvBA,EAAS,GAGX,OAFAF,KAAKpB,MAAMC,MAAO,OAClBmB,KAAKpB,MAAMI,QAAU,yCAIvB,GAAIkB,GAAU,GAGZ,OAFAF,KAAKpB,MAAMC,MAAO,OAClBmB,KAAKpB,MAAMI,QAAU,0CAIvBgB,KAAKK,WAAWC,SAAWJ,EAC3BK,cAAcP,KAAKD,UACnBC,KAAKT,QAAQC,KAAK,CAACC,KAAM,kBAlBzB,CAkB2C,GAC1C,IAEL,EACAe,YACED,cAAcP,KAAKD,SACrB,EACAU,SAAU,CACRJ,aACE,OAAOL,KAAKU,OAAOC,MAAMN,UAC3B,EACAR,SACE,OAAOG,KAAKU,OAAOC,MAAMC,QAAQf,QAAU,CAAC,CAC9C,I,QC/CJ,MAAMgB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://sdpo-frontend/./src/helpers/thermometer.js","webpack://sdpo-frontend/./src/pages/inspection/Step-thermometer.vue","webpack://sdpo-frontend/./src/pages/inspection/Step-thermometer.vue?c97b"],"sourcesContent":["import {defaultError} from \"@/helpers/http-errors\";\n\nexport async function getTemp() {\n    return await axios.post(`device/thermometer`).then(({ data }) => {            \n        return data;\n    }).catch(defaultError);\n}","<script>\nimport {getTemp} from '@/helpers/thermometer';\n\nexport default {\n  data() {\n    return {\n      interval: null,\n      error: {\n        show: false,\n        message: true,\n      },\n    }\n  },\n  async mounted() {\n    this.interval = setInterval(async () => {\n      let result = await getTemp();\n\n      if (result === undefined || result === null) {\n        return;\n      }\n\n      if (result === 'next') {\n        return;\n      }\n\n      result = Number(result) || 36.6;\n\n      if (result < 35) {\n        this.error.show = true;\n        this.error.message = \"Низкая температура, измерьте еще раз!\";\n        return;\n      }\n\n      if (result >= 37) {\n        this.error.show = true;\n        this.error.message = \"Высокая температура, измерьте еще раз!\";\n        return;\n      }\n\n      this.inspection.t_people = result;\n      clearInterval(this.interval);\n      this.$router.push({name: 'step-alcometer'});\n    }, 1000);\n\n  },\n  unmounted() {\n    clearInterval(this.interval);\n  },\n  computed: {\n    inspection() {\n      return this.$store.state.inspection;\n    },\n    system() {\n      return this.$store.state.config?.system || {};\n    }\n  }\n}\n</script>\n\n<template>\n  <div class=\"step-4__outer\">\n    <div class=\"step-4\">\n      <h3 class=\"animate__animated animate__fadeInUp\">Измерение температуры тела</h3>\n      <div v-if=\"error.show\" class=\"alert alert-danger\">\n        {{ error.message }}\n      </div>\n      <img class=\"animate__animated animate__fadeInUp d-1\" src=\"@/assets/images/pirometer2.png\">\n    </div>\n\n    <div class=\"step-buttons\">\n      <button @click=\"$router.push({ name: 'step-tonometer' })\" class=\"btn opacity blue\">Назад</button>\n      <button @click=\"$router.push({ name: 'step-alcometer' })\"\n              v-if=\"JSON.parse(system.thermometer_skip)\" class=\"btn\">Продолжить\n      </button>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.alert {\n  position: relative;\n  padding: .75rem 1.25rem;\n  margin-bottom: 1rem;\n  border: 1px solid transparent;\n  border-radius: .25rem;\n  width: 50%;\n  height: 5%;\n  justify-content: center;\n}\n\n.alert-danger {\n  color: #721c24;\n  background-color: #f8d7da;\n  border-color: #f5c6cb;\n}\n</style>","import { render } from \"./Step-thermometer.vue?vue&type=template&id=55d41ca5&scoped=true\"\nimport script from \"./Step-thermometer.vue?vue&type=script&lang=js\"\nexport * from \"./Step-thermometer.vue?vue&type=script&lang=js\"\n\nimport \"./Step-thermometer.vue?vue&type=style&index=0&id=55d41ca5&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/baarme/develop/java/sdpo-java/src/main/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-55d41ca5\"]])\n\nexport default __exports__"],"names":["async","getTemp","axios","post","then","data","catch","defaultError","class","_createElementVNode","src","_imports_0","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","$data","error","show","_hoisted_4","_toDisplayString","message","_hoisted_5","_hoisted_6","onClick","_cache","$event","_ctx","$router","push","name","JSON","parse","$options","system","thermometer_skip","interval","this","setInterval","result","undefined","Number","inspection","t_people","clearInterval","unmounted","computed","$store","state","config","__exports__","render"],"sourceRoot":""}