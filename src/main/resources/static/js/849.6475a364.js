"use strict";(self["webpackChunksdpo_frontend"]=self["webpackChunksdpo_frontend"]||[]).push([[849],{6700:function(e,s,t){t.d(s,{_:function(){return l},p:function(){return o}});var a=t(7625),n=t(4677);const i=(0,n.pm)();async function o(){return await axios.post("device/alcometer").then((({data:e})=>e)).catch(d)}async function l(){return await axios.post("device/alcometer/close").then((({data:e})=>e)).catch(d)}function d(e){const s=e.response?.data;if(s?.message)i.error(s.message);else if(e.response)switch(e?.response?.status){case 400:i.error("Ошибка авторизации запроса");case 500:i.error("Ошибка сервера");default:i.error("Неизвестная ошибка запроса")}else a.Z.$state.loseConnect=!0;console.log(e)}},2419:function(e,s,t){t.d(s,{TQ:function(){return o},TX:function(){return l},af:function(){return i},o:function(){return d}});var a=t(7625),n=t(4677);(0,n.pm)();async function i(){return await axios.post("device/photo").then((({data:e})=>e)).catch(_)}async function o(){return await axios.get("device/video/size").then((({data:e})=>e)).catch(_)}async function l(){return await axios.post("device/video").then((({data:e})=>e)).catch(_)}async function d(){return await axios.post("device/video/test").then((({data:e})=>e)).catch(_)}function _(e){e.response&&(a.Z.$state.loseConnect=!0),console.log(e)}},2756:function(e,s,t){t.d(s,{i:function(){return o}});var a=t(7625),n=t(4677);const i=(0,n.pm)();async function o(){return await axios.post("device/thermometer").then((({data:e})=>e)).catch(l)}function l(e){const s=e.response?.data;if(s?.message)i.error(s.message);else if(e.response)switch(e?.response?.status){case 400:i.error("Ошибка авторизации запроса");case 500:i.error("Ошибка сервера");default:i.error("Неизвестная ошибка запроса")}else a.Z.$state.loseConnect=!0;console.log(e)}},5611:function(e,s,t){t.d(s,{X:function(){return l},v:function(){return o}});var a=t(7625),n=t(4677);const i=(0,n.pm)();async function o(){return await axios.post("device/tonometer").then((({data:e})=>e)).catch(d)}async function l(){return await axios.post("device/scan").then((({data:e})=>e)).catch((e=>{console.log(e)}))}function d(e){const s=e.response?.data;if(s?.message)i.error(s.message);else if(e.response)switch(e?.response?.status){case 400:i.error("Ошибка авторизации запроса");default:i.error("Неизвестная ошибка запроса")}else a.Z.$state.loseConnect=!0;console.log(e)}},1849:function(e,s,t){t.r(s),t.d(s,{default:function(){return nt}});var a=t(3396),n=t(7139);const i={class:"admin"},o={class:"admin__tabs"};function l(e,s,t,l,d,_){const c=(0,a.up)("testing"),r=(0,a.up)("tonometer"),m=(0,a.up)("password"),u=(0,a.up)("system"),p=(0,a.up)("logo");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",o,[(0,a._)("button",{class:(0,n.C_)(["admin__tab animate__animated animate__fadeInDown d-1",{active:"system"===d.selected}]),onClick:s[0]||(s[0]=e=>d.selected="system")}," Основные настройки ",2),(0,a._)("button",{class:(0,n.C_)(["admin__tab animate__animated animate__fadeInDown d-2",{active:"password"===d.selected}]),onClick:s[1]||(s[1]=e=>d.selected="password")}," Настройки пароля ",2),(0,a._)("button",{class:(0,n.C_)(["admin__tab animate__animated animate__fadeInDown d-3",{active:"tonometer"===d.selected}]),onClick:s[2]||(s[2]=e=>d.selected="tonometer")}," Настройки тонометра ",2),(0,a._)("button",{class:(0,n.C_)(["admin__tab animate__animated animate__fadeInDown d-3",{active:"logo"===d.selected}]),onClick:s[3]||(s[3]=e=>d.selected="logo")}," Смена логотипа ",2),(0,a._)("button",{class:(0,n.C_)(["admin__tab animate__animated animate__fadeInDown d-4",{active:"testing"===d.selected}]),onClick:s[4]||(s[4]=e=>d.selected="testing")}," Тестирование ",2)]),"testing"===d.selected?((0,a.wg)(),(0,a.j4)(c,{key:0})):(0,a.kq)("",!0),"tonometer"===d.selected?((0,a.wg)(),(0,a.j4)(r,{key:1})):(0,a.kq)("",!0),"password"===d.selected?((0,a.wg)(),(0,a.j4)(m,{key:2})):(0,a.kq)("",!0),"system"===d.selected?((0,a.wg)(),(0,a.j4)(u,{key:3})):(0,a.kq)("",!0),"logo"===d.selected?((0,a.wg)(),(0,a.j4)(p,{key:4})):(0,a.kq)("",!0)])}const d={class:"admin__testing"},_=["disabled"],c=["disabled"],r=["disabled"],m=["disabled"],u=["disabled"],p=["disabled"],v={key:0,class:"admin__loading animate__animated animate__fadeInUp"},h=(0,a._)("div",{class:"lds-ring"},[(0,a._)("div"),(0,a._)("div"),(0,a._)("div"),(0,a._)("div")],-1),w={key:1,class:"admin__testing-result"},y=["src"],b={key:1,class:"admin__testing-video animate__animated animate__fadeInUp"},g=(0,a._)("video",{autoplay:"autoplay",controls:""},[(0,a._)("source",{src:"http://localhost:8080/video",type:"video/mp4"})],-1),f=[g],k={key:2,class:"admin__testing-temp animate__animated animate__fadeInUp"},U=(0,a._)("span",null,"°C",-1),C={key:3,class:"admin__testing-temp animate__animated animate__fadeInUp"},I={key:4,class:"admin__testing-pressure animate__animated animate__fadeInUp"},D={class:"admin__testing-pressure-item"},x=(0,a._)("span",null,"Систолическое давление",-1),V={class:"admin__testing-pressure-item"},q=(0,a._)("span",null,"Диастолическое давление",-1),z={class:"admin__testing-pressure-item"},$=(0,a._)("span",null,"Пульс",-1);function Z(e,s,t,i,o,l){return(0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("button",{disabled:"loading"===o.show,onClick:s[0]||(s[0]=e=>l.photo()),class:"btn blue tab animate__animated animate__fadeInUp"},"Тестовый снимок",8,_),(0,a._)("button",{disabled:"loading"===o.show,onClick:s[1]||(s[1]=e=>l.video()),class:"btn blue tab animate__animated animate__fadeInUp d-1"},"Тестовое видео",8,c),(0,a._)("button",{disabled:"loading"===o.show,onClick:s[2]||(s[2]=e=>l.thermometer()),class:"btn blue tab animate__animated animate__fadeInUp d-2"},"Тест пирометра",8,r),(0,a._)("button",{disabled:"loading"===o.show,onClick:s[3]||(s[3]=e=>l.alcometer()),class:"btn blue tab animate__animated animate__fadeInUp d-3"},"Тест алкометра",8,m),(0,a._)("button",{disabled:"loading"===o.show,onClick:s[4]||(s[4]=e=>l.printer()),class:"btn blue tab animate__animated animate__fadeInUp d-4"},"Тестовая печать",8,u),(0,a._)("button",{disabled:"loading"===o.show,onClick:s[5]||(s[5]=e=>l.tonometer()),class:"btn blue tab animate__animated animate__fadeInUp d-5"},"Тест тонометра",8,p),"loading"===o.show?((0,a.wg)(),(0,a.iD)("div",v,[h,(0,a.Uk)(" Загрузка ")])):((0,a.wg)(),(0,a.iD)("div",w,["image"===o.show?((0,a.wg)(),(0,a.iD)("img",{key:0,class:"animate__animated animate__fadeInUp",src:o.image},null,8,y)):(0,a.kq)("",!0),"video"===o.show?((0,a.wg)(),(0,a.iD)("div",b,f)):(0,a.kq)("",!0),"temp"===o.show?((0,a.wg)(),(0,a.iD)("div",k,[(0,a.Uk)((0,n.zw)(o.temp)+" ",1),U])):(0,a.kq)("",!0),"alcometer"===o.show?((0,a.wg)(),(0,a.iD)("div",C,(0,n.zw)(void 0===o.alcometerPpm?"Не удалось получить результат":o.alcometerPpm+" ‰"),1)):(0,a.kq)("",!0),"pressure"===o.show?((0,a.wg)(),(0,a.iD)("div",I,[(0,a._)("div",D,[x,(0,a.Uk)(" "+(0,n.zw)(o.pressure?.systolic?o.pressure.systolic+" мм. рт.ст":"Результатов нет"),1)]),(0,a._)("div",V,[q,(0,a.Uk)(" "+(0,n.zw)(o.pressure?.diastolic?o.pressure.diastolic+" мм. рт.ст":"Результатов нет"),1)]),(0,a._)("div",z,[$,(0,a.Uk)(" "+(0,n.zw)(o.pressure?.pulse?o.pressure.pulse+" уд/мин":"Результатов нет"),1)])])):(0,a.kq)("",!0)]))])}var P=t(2419),S=t(5611),L=t(2756),T=t(6700),j=t(7625),F=t(4311);async function X(){return await F.Z.post("device/printer").then((({data:e})=>e)).catch(A)}function A(e){const s=e.response?.data;if(s?.message)toast.error(s.message);else if(s.response)switch(e?.response?.status){case 400:toast.error("Ошибка авторизации запроса");default:toast.error("Неизвестная ошибка запроса")}else j.Z.$state.loseConnect=!0;console.log(e)}var H={data(){return{show:"",image:null,video:null,temp:null,alcometerPpm:null,pressure:null,timeout:0,loading:!1,interval:null}},methods:{async photo(){this.show="loading",clearInterval(this.interval),this.image=await(0,P.af)(),this.show="",this.image&&setTimeout((()=>{this.show="image"}),2e3)},async video(){this.show="loading",clearInterval(this.interval),this.video=await(0,P.o)(),this.show="",this.video&&(this.show="video")},async thermometer(){this.show="loading",clearInterval(this.interval),this.interval=setInterval((async()=>{this.temp=await(0,L.i)(),"next"!==this.temp&&(this.show="temp",clearInterval(this.interval))}),1e3)},async alcometer(){this.show="loading",clearInterval(this.interval),this.interval=setInterval((async()=>{const e=await(0,T.p)();"next"!==e&&(this.alcometerPpm=Number(e)||0,this.show="alcometer",clearInterval(this.interval))}),1e3)},async printer(){this.show="loading",this.alcometerPpm=await X(),this.show=""},async tonometer(){this.show="loading",clearInterval(this.interval),this.interval=setInterval((async()=>{const e=await(0,S.v)();"next"!==e&&(this.pressure=e,clearInterval(this.interval),this.show="pressure")}),1e3)}}},K=t(89);const R=(0,K.Z)(H,[["render",Z]]);var Y=R;const B={key:0,class:"admin__loading animate__animated animate__fadeInUp"},E=(0,a._)("div",{class:"lds-ring"},[(0,a._)("div"),(0,a._)("div"),(0,a._)("div"),(0,a._)("div")],-1),M={key:1,class:"admin__tonometer"},Q={class:"admin__tonometer-card animate__animated animate__fadeInUp d-1"},N=(0,a._)("div",{class:"admin__tonometer-card-title"}," Информация ",-1),W={class:"admin__tonometer-devices animate__animated animate__fadeInUp d-3"},G=["disabled","onClick"];function J(e,s,t,i,o,l){return o.result?((0,a.wg)(),(0,a.iD)("div",M,[(0,a._)("div",Q,[N,(0,a._)("p",null,"Имя устройства: "+(0,n.zw)(o.result?.main?.name||"Неизвестное устройство"),1),(0,a._)("p",null,"Адрес устройства: "+(0,n.zw)(o.result?.main?.address||"Неизвестный адрес"),1),(0,a._)("p",null,"Подключенный тонометр: "+(0,n.zw)(l.config.main.tonometer_mac||"-"),1)]),(0,a._)("div",W,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.result?.devices,(e=>((0,a.wg)(),(0,a.iD)("button",{class:"admin__tonometer-device",disabled:e.address===l.config.main.tonometer_mac,key:e.address,onClick:s=>l.save(e.address)},(0,n.zw)(e.address||"Неизвестный адрес"),9,G)))),128))])])):((0,a.wg)(),(0,a.iD)("div",B,[E,(0,a.Uk)(" Загрузка ")]))}var O=t(4457),ee=t(4677),se={data(){return{result:null,task:null,toast:(0,ee.pm)()}},computed:{config(){return this.$store.state.config}},methods:{async getDevices(){this.task=setInterval((async()=>{this.result=await(0,S.X)()}),1e3)},async save(e){await(0,O.Tc)(e),this.config.main.tonometer_mac=e,this.toast.success("Настройки тонометра сохранены")}},mounted(){this.getDevices()},unmounted(){clearInterval(this.task)}};const te=(0,K.Z)(se,[["render",J]]);var ae=te,ne=t(9242);const ie={class:"admin__password"},oe={class:"password-form"},le=(0,a._)("div",{class:"password-form__title animate__animated animate__fadeInDown"}," Введите новый пароль ",-1),de={class:"password-form__input animate__animated animate__fadeIn d-1"},_e={class:"number-buttons",ref:"numbers"},ce=(0,a._)("i",{class:"ri-close-fill"},null,-1),re=[ce],me=(0,a._)("i",{class:"ri-delete-back-line"},null,-1),ue=[me];function pe(e,s,t,n,i,o){return(0,a.wg)(),(0,a.iD)("div",ie,[(0,a._)("div",oe,[le,(0,a._)("div",de,[(0,a.wy)((0,a._)("input",{type:"password","onUpdate:modelValue":s[0]||(s[0]=e=>i.password=e)},null,512),[[ne.nr,i.password]])]),(0,a._)("div",_e,[(0,a._)("button",{class:"number-buttons__item",onClick:s[1]||(s[1]=e=>i.password+="1")},"1"),(0,a._)("button",{class:"number-buttons__item",onClick:s[2]||(s[2]=e=>i.password+="2")},"2"),(0,a._)("button",{class:"number-buttons__item",onClick:s[3]||(s[3]=e=>i.password+="3")},"3"),(0,a._)("button",{class:"number-buttons__item",onClick:s[4]||(s[4]=e=>i.password+="4")},"4"),(0,a._)("button",{class:"number-buttons__item",onClick:s[5]||(s[5]=e=>i.password+="5")},"5"),(0,a._)("button",{class:"number-buttons__item",onClick:s[6]||(s[6]=e=>i.password+="6")},"6"),(0,a._)("button",{class:"number-buttons__item",onClick:s[7]||(s[7]=e=>i.password+="7")},"7"),(0,a._)("button",{class:"number-buttons__item",onClick:s[8]||(s[8]=e=>i.password+="8")},"8"),(0,a._)("button",{class:"number-buttons__item",onClick:s[9]||(s[9]=e=>i.password+="9")},"9"),(0,a._)("button",{class:"number-buttons__item",onClick:s[10]||(s[10]=e=>i.password="")},re),(0,a._)("button",{class:"number-buttons__item",onClick:s[11]||(s[11]=e=>i.password+="0")},"0"),(0,a._)("button",{class:"number-buttons__item",onClick:s[12]||(s[12]=e=>i.password=i.password.slice(0,-1))},ue)],512),i.password.length>3?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:s[13]||(s[13]=(...e)=>o.save&&o.save(...e)),class:"btn animate__animated animate__fadeInUp"},"Сохранить")):(0,a.kq)("",!0)])])}var ve={data(){return{password:"",toast:(0,ee.pm)()}},methods:{async save(){await(0,O.vW)(this.password),this.password="",this.toast.success("Пароль успешно изменен"),this.$store.state.config.password=this.password}},mounted(){this.$refs.numbers.querySelectorAll("button").forEach(((e,s)=>{e.classList.add("animate__animated"),e.classList.add("animate__fadeInUp"),e.style.setProperty("animation-delay",.2+.05*s+"s")}))}};const he=(0,K.Z)(ve,[["render",pe]]);var we=he;const ye={class:"admin__system"},be={class:"admin__system-card animate__animated animate__fadeInUp d-1"},ge=(0,a._)("div",{class:"admin__system-card__title"}," Основные настройки ",-1),fe={class:"admin__system-card__item"},ke=(0,a._)("span",null,"Информация о водителе",-1),Ue={class:"switch"},Ce=(0,a._)("div",{class:"slider round"},null,-1),Ie={class:"admin__system-card__item"},De=(0,a._)("span",null,"Тип осмотра",-1),xe={class:"switch"},Ve=(0,a._)("div",{class:"slider round"},null,-1),qe={class:"admin__system-card__item"},ze=(0,a._)("span",null,"Вопрос о сне",-1),$e={class:"switch"},Ze=(0,a._)("div",{class:"slider round"},null,-1),Pe={class:"admin__system-card__item"},Se=(0,a._)("span",null,"вопрос о самочувствии",-1),Le={class:"switch"},Te=(0,a._)("div",{class:"slider round"},null,-1),je={class:"admin__system-card animate__animated animate__fadeInUp d-2"},Fe=(0,a._)("div",{class:"admin__system-card__title"}," Алкометр ",-1),Xe={class:"admin__system-card__item"},Ae=(0,a._)("span",null,"Быстрый режим",-1),He={class:"switch"},Ke=(0,a._)("div",{class:"slider round"},null,-1),Re={class:"admin__system-card__item"},Ye=(0,a._)("span",null,"Пропуск",-1),Be={class:"switch"},Ee=(0,a._)("div",{class:"slider round"},null,-1),Me={class:"admin__system-card__item"},Qe=(0,a._)("span",null,"включен",-1),Ne={class:"switch"},We=(0,a._)("div",{class:"slider round"},null,-1),Ge={class:"admin__system-card animate__animated animate__fadeInUp d-3"},Je=(0,a._)("div",{class:"admin__system-card__title"}," Тонометр ",-1),Oe={class:"admin__system-card__item"},es=(0,a._)("span",null,"Пропуск",-1),ss={class:"switch"},ts=(0,a._)("div",{class:"slider round"},null,-1),as={class:"admin__system-card__item"},ns=(0,a._)("span",null,"включен",-1),is={class:"switch"},os=(0,a._)("div",{class:"slider round"},null,-1),ls={class:"admin__system-card animate__animated animate__fadeInUp d-4"},ds=(0,a._)("div",{class:"admin__system-card__title"}," Камера ",-1),_s={class:"admin__system-card__item"},cs=(0,a._)("span",null,"Видео",-1),rs=["value"],ms=(0,a._)("option",{value:"false"},"Выкл",-1),us={class:"admin__system-card__item"},ps=(0,a._)("span",null,"Фото",-1),vs=["value"],hs=(0,a._)("option",{value:"false"},"Выкл",-1),ws={class:"admin__system-card animate__animated animate__fadeInUp d-5"},ys=(0,a._)("div",{class:"admin__system-card__title"}," Принтер ",-1),bs={class:"admin__system-card__item"},gs=(0,a._)("span",null,"Печать",-1),fs={class:"switch"},ks=(0,a._)("div",{class:"slider round"},null,-1),Us={class:"admin__system-card__item"},Cs=(0,a._)("span",null,"Количество",-1),Is={class:"admin__system-card animate__animated animate__fadeInUp d-6"},Ds=(0,a._)("div",{class:"admin__system-card__title"}," Термометер ",-1),xs={class:"admin__system-card__item"},Vs=(0,a._)("span",null,"Пропуск",-1),qs={class:"switch"},zs=(0,a._)("div",{class:"slider round"},null,-1),$s={class:"admin__system-card__item"},Zs=(0,a._)("span",null,"включен",-1),Ps={class:"switch"},Ss=(0,a._)("div",{class:"slider round"},null,-1),Ls={class:"admin__system-card block animate__animated animate__fadeInUp d-6"},Ts={class:"admin__system-card__title"},js={class:"admin__system-card__item"},Fs=(0,a._)("span",null,"Адрес",-1),Xs={class:"admin__system-card__item"},As=(0,a._)("span",null,"Токен",-1),Hs={class:"admin__system-footer animate__animated animate__fadeInUp d-7"};function Ks(e,s,t,i,o,l){return(0,a.wg)(),(0,a.iD)("div",ye,[(0,a._)("div",be,[ge,(0,a._)("div",fe,[ke,(0,a._)("label",Ue,[(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":s[0]||(s[0]=e=>l.system.driver_info=e)},null,512),[[ne.e8,l.system.driver_info]]),Ce])]),(0,a._)("div",Ie,[De,(0,a._)("label",xe,[(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":s[1]||(s[1]=e=>l.system.type_ride=e)},null,512),[[ne.e8,l.system.type_ride]]),Ve])]),(0,a._)("div",qe,[ze,(0,a._)("label",$e,[(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":s[2]||(s[2]=e=>l.system.question_sleep=e)},null,512),[[ne.e8,l.system.question_sleep]]),Ze])]),(0,a._)("div",Pe,[Se,(0,a._)("label",Le,[(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":s[3]||(s[3]=e=>l.system.question_helth=e)},null,512),[[ne.e8,l.system.question_helth]]),Te])])]),(0,a._)("div",je,[Fe,(0,a._)("div",Xe,[Ae,(0,a._)("label",He,[(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":s[4]||(s[4]=e=>l.system.alcometer_fast=e)},null,512),[[ne.e8,l.system.alcometer_fast]]),Ke])]),(0,a._)("div",Re,[Ye,(0,a._)("label",Be,[(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":s[5]||(s[5]=e=>l.system.alcometer_skip=e)},null,512),[[ne.e8,l.system.alcometer_skip]]),Ee])]),(0,a._)("div",Me,[Qe,(0,a._)("label",Ne,[(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":s[6]||(s[6]=e=>l.system.alcometer_visible=e)},null,512),[[ne.e8,l.system.alcometer_visible]]),We])])]),(0,a._)("div",Ge,[Je,(0,a._)("div",Oe,[es,(0,a._)("label",ss,[(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":s[7]||(s[7]=e=>l.system.tonometer_skip=e)},null,512),[[ne.e8,l.system.tonometer_skip]]),ts])]),(0,a._)("div",as,[ns,(0,a._)("label",is,[(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":s[8]||(s[8]=e=>l.system.tonometer_visible=e)},null,512),[[ne.e8,l.system.tonometer_visible]]),os])])]),(0,a._)("div",ls,[ds,(0,a._)("div",_s,[cs,(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":s[9]||(s[9]=e=>l.system.camera_video=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.videoSizes,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:e},(0,n.zw)(e),9,rs)))),128)),ms],512),[[ne.bM,l.system.camera_video]])]),(0,a._)("div",us,[ps,(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":s[10]||(s[10]=e=>l.system.camera_photo=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.videoSizes,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:e},(0,n.zw)(e),9,vs)))),128)),hs],512),[[ne.bM,l.system.camera_photo]])])]),(0,a._)("div",ws,[ys,(0,a._)("div",bs,[gs,(0,a._)("label",fs,[(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":s[11]||(s[11]=e=>l.system.printer_write=e)},null,512),[[ne.e8,l.system.printer_write]]),ks])]),(0,a._)("div",Us,[Cs,(0,a.wy)((0,a._)("input",{min:"1",class:"small",type:"number","onUpdate:modelValue":s[12]||(s[12]=e=>l.system.print_count=e)},null,512),[[ne.nr,l.system.print_count]])])]),(0,a._)("div",Is,[Ds,(0,a._)("div",xs,[Vs,(0,a._)("label",qs,[(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":s[13]||(s[13]=e=>l.system.thermometer_skip=e)},null,512),[[ne.e8,l.system.thermometer_skip]]),zs])]),(0,a._)("div",$s,[Zs,(0,a._)("label",Ps,[(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":s[14]||(s[14]=e=>l.system.thermometer_visible=e)},null,512),[[ne.e8,l.system.thermometer_visible]]),Ss])])]),(0,a._)("div",Ls,[(0,a._)("div",Ts,[(0,a.Uk)(" Настройки API "),(0,a._)("div",{class:(0,n.C_)(["connection-status",{active:l.connection}])},[(0,a._)("span",null,(0,n.zw)(l.connection),1)],2)]),(0,a._)("div",js,[Fs,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":s[15]||(s[15]=e=>l.config.url=e)},null,512),[[ne.nr,l.config.url]])]),(0,a._)("div",Xs,[As,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":s[16]||(s[16]=e=>l.config.token=e)},null,512),[[ne.nr,l.config.token]])])]),(0,a._)("div",Hs,[(0,a._)("button",{onClick:s[17]||(s[17]=(...e)=>l.save&&l.save(...e)),class:"btn blue"},"Сохранить")])])}var Rs=t(6509),Ys={data(){return{toast:(0,ee.pm)(),videoSizes:[]}},async mounted(){this.videoSizes=await(0,P.TQ)()},methods:{async save(){await(0,O.hR)(this.system),await(0,O.XP)(this.config.url,this.config.token),this.$store.state.point=await(0,Rs.F8)(),this.toast.success("Настройки сохранены")}},computed:{system(){return this.$store.state.config?.system||{}},config(){return this.$store.state.config?.main||{}},connection(){return this.$store.state.connection||!1}}};const Bs=(0,K.Z)(Ys,[["render",Ks]]);var Es=Bs;const Ms={class:"admin__logo"},Qs={class:"input-file"},Ns=(0,a._)("span",null,"Выберите файл",-1),Ws={key:0,class:"preview-image"},Gs=["src"];function Js(e,s,t,n,i,o){return(0,a.wg)(),(0,a.iD)("div",Ms,[(0,a._)("label",Qs,[(0,a._)("input",{type:"file",onChange:s[0]||(s[0]=(...e)=>o.onFileChange&&o.onFileChange(...e))},null,32),Ns]),o.logo?((0,a.wg)(),(0,a.iD)("div",Ws,[(0,a._)("img",{src:o.logo},null,8,Gs),(0,a._)("button",{onClick:s[1]||(s[1]=(...e)=>o.deleteLogo&&o.deleteLogo(...e)),class:"btn small"},"Удалить")])):(0,a.kq)("",!0)])}var Os={data(){return{toast:(0,ee.pm)()}},methods:{async onFileChange(e){const s=e.target.files[0],t=await this.getBase64(s);this.$store.state.config.main.logo=t,await(0,Rs.Sx)(t),this.toast.success("Логотип успешно установлен")},getBase64(e){return new Promise(((s,t)=>{const a=new FileReader;a.readAsDataURL(e),a.onload=()=>{s(a.result)},a.onerror=e=>{console.log("Error: ",e)}}))},async deleteLogo(){this.$store.state.config.main.logo="",await(0,Rs.Sx)(""),this.toast.success("Логотип успешно удален")}},computed:{logo(){return this.$store.state.config?.main?.logo}}};const et=(0,K.Z)(Os,[["render",Js]]);var st=et,tt={components:{Testing:Y,Tonometer:ae,Password:we,System:Es,Logo:st},data(){return{selected:"system"}}};const at=(0,K.Z)(tt,[["render",l]]);var nt=at}}]);
//# sourceMappingURL=849.6475a364.js.map