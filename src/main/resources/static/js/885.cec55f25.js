"use strict";(self["webpackChunksdpo_frontend"]=self["webpackChunksdpo_frontend"]||[]).push([[885],{5606:function(e,t,s){s.r(t),s.d(t,{default:function(){return x}});s(7658);var a=s(3396),n=s(7139);const i={class:"step-result"},o=(0,a._)("h3",{class:"animate__animated animate__fadeInDown"},"Результаты осмотра",-1),r={class:"step-result__cards"},l={key:0,class:"step-result__card animate__animated animate__fadeInUp d-1"},_=(0,a._)("span",null,"Давление",-1),d={key:1,class:"step-result__card animate__animated animate__fadeInUp d-2"},c=(0,a._)("span",null,"Пульс",-1),m={key:2,class:"step-result__card animate__animated animate__fadeInUp d-2"},u=(0,a._)("span",null,"Количество промилле",-1),p={key:3,class:"step-result__card animate__animated animate__fadeInUp d-2"},h=(0,a._)("span",null,"Температура тела",-1),y={key:4,class:"step-result__card animate__animated animate__fadeInUp d-2"},k=(0,a._)("span",null,"Сонливость",-1),v={key:5,class:"step-result__card animate__animated animate__fadeInUp d-2"},w=(0,a._)("span",null,"Самочувствие",-1),f={class:"step-result__footer"},g={class:"step-result__text animate__animated animate__fadeInUp"},b=(0,a._)("br",null,null,-1),U={key:0,class:"animate__animated animate__fadeInUp"},I={class:"step-result__buttons"};function q(e,t,s,q,C,D){const R=(0,a.up)("result-repeat");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(R,{visible:D.showRetryModal,"onUpdate:visible":t[0]||(t[0]=e=>D.showRetryModal=e),"message-content":D.getComment,"onUpdate:messageContent":t[1]||(t[1]=e=>D.getComment=e),onAccept:t[2]||(t[2]=e=>D.redirectRepeat())},null,8,["visible","message-content"]),(0,a._)("div",i,[o,(0,a._)("div",r,[D.system.tonometer_visible?((0,a.wg)(),(0,a.iD)("div",l,[_,(0,a.Uk)(" "+(0,n.zw)(D.inspection.hasOwnProperty("tonometer")?D.inspection.tonometer:"Неизвестно"),1)])):(0,a.kq)("",!0),D.system.tonometer_visible?((0,a.wg)(),(0,a.iD)("div",d,[c,(0,a.Uk)(" "+(0,n.zw)(D.inspection.hasOwnProperty("pulse")?D.inspection.pulse:"Неизвестно"),1)])):(0,a.kq)("",!0),D.system.alcometer_visible?((0,a.wg)(),(0,a.iD)("div",m,[u,(0,a.Uk)(" "+(0,n.zw)(D.inspection.hasOwnProperty("alcometer_result")?D.inspection.alcometer_result+" ‰":"Неизвестно"),1)])):(0,a.kq)("",!0),D.system.thermometer_visible?((0,a.wg)(),(0,a.iD)("div",p,[h,(0,a.Uk)(" "+(0,n.zw)(D.inspection.hasOwnProperty("t_people")?D.inspection.t_people+" °C":"Неизвестно"),1)])):(0,a.kq)("",!0),D.system.question_sleep?((0,a.wg)(),(0,a.iD)("div",y,[k,(0,a.Uk)(" "+(0,n.zw)(D.inspection.hasOwnProperty("sleep_status")?D.getSleepStatus(D.inspection.sleep_status):"Неизвестно"),1)])):(0,a.kq)("",!0),D.system.question_helth?((0,a.wg)(),(0,a.iD)("div",v,[w,(0,a.Uk)(" "+(0,n.zw)(D.inspection.hasOwnProperty("people_status")?D.getPeopleStatus(D.inspection.people_status):"Неизвестно"),1)])):(0,a.kq)("",!0)]),(0,a._)("div",f,[(0,a._)("span",g,[(0,a.Uk)((0,n.zw)(C.result.admitted||"ожидание ответа"),1),b,"Допущен"===C.result.admitted?((0,a.wg)(),(0,a.iD)("p",U," Счастливого пути! ")):(0,a.kq)("",!0)]),(0,a._)("div",I,[(0,a._)("button",{onClick:t[3]||(t[3]=t=>e.$router.push("/")),class:"btn blue animate__animated animate__fadeInUp"},"В начало"),"Допущен"===C.result?.admitted?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:t[4]||(t[4]=e=>D.replayPrint()),class:"btn opacity animate__animated animate__fadeInUp"},"Повтор печати ")):(0,a.kq)("",!0)])])])],64)}var C=s(6509);const D={key:1,class:"approval animate__animated animate__fadeInRight"},R=(0,a._)("div",{class:"not-identify__title"},[(0,a._)("h3",null,"Не идентифицирован")],-1),P={class:"approval__content"},S={class:"not-identify__content"};function $(e,t,s,i,o,r){return(0,a.wg)(),(0,a.iD)(a.HY,null,[s.visible?((0,a.wg)(),(0,a.iD)("div",{key:0,onClick:t[0]||(t[0]=(...e)=>r.closeModal&&r.closeModal(...e)),class:"medics__overlay animate__animated animate__fadeIn"})):(0,a.kq)("",!0),s.visible?((0,a.wg)(),(0,a.iD)("div",D,[R,(0,a._)("div",P,[(0,a._)("div",S,(0,n.zw)(this.messageContent),1),(0,a._)("button",{onClick:t[1]||(t[1]=(...e)=>r.accept&&r.accept(...e)),class:"btn approval__button-submit animate__animated animate__fadeInUp"},"В начало осмотра ")])])):(0,a.kq)("",!0)],64)}var z=s.p+"media/alert.1cca9e8e.ogg";function T(){new Audio(z).play()}var M={props:{visible:{type:Boolean,require:!0},messageContent:{type:String,require:!0,default:""}},methods:{closeModal(){this.$emit("close-modal")},accept(){this.closeModal(),this.$emit("accept")}},watch:{visible:function(e){e&&T()}}},O=s(89);const A=(0,O.Z)(M,[["render",$]]);var H=A,Y={components:{ResultRepeat:H},data(){return{backTimeout:null,result:{},conclusion:{admitted:"",comments:""},notIdentified:"Не идентифицирован"}},async mounted(){await this.save(),this.autoStart&&(this.backTimeout=this.setTimeoutAndRedirect())},unmounted(){clearTimeout(this.backTimeout)},methods:{getSleepStatus(e){return"Да"===e?"Выспались":"Не выспались"},getPeopleStatus(e){return"Да"===e?"Хорошее":"Плохое"},async save(){this.result=await(0,C._u)(),this.conclusion.admitted=this.result.admitted??"",this.conclusion.comments=this.result.comments??""},async replayPrint(){await(0,C.Jw)()},redirectHome(){"step-result"===this.$route.name&&this.$router.push("/")},redirectRepeat(){"step-result"===this.$route.name&&this.$router.push({name:"step-retry"})},setTimeoutAndRedirect(){return this.result.admitted===this.notIdentified?setTimeout(this.redirectRepeat,this.system.delay_before_retry_inspection):setTimeout(this.redirectHome,5e3)}},computed:{autoStart(){return this.system.auto_start},showRetryModal(){return this.result.admitted===this.notIdentified},getComment(){return this.result.comments??""},inspection(){return this.$store.state.inspection},system(){return this.$store.state.config?.system||{}}}};const Z=(0,O.Z)(Y,[["render",q]]);var x=Z}}]);
//# sourceMappingURL=885.cec55f25.js.map